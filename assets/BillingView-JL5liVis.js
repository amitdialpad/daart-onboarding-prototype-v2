import{r as i,g as b,m as et,c as a,a as t,j as d,t as n,w as N,k as r,b as U,d as A,e as st,s as V,q as I,F as y,i as f,v as nt,f as at,o,n as ot}from"./index-BGsm2ito.js";import{_ as lt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const it={class:"billing-container"},dt={class:"top-nav"},rt={class:"nav-tabs"},ut={class:"nav-right"},vt={class:"dropdown-arrow"},ct={class:"billing-main"},mt={class:"side-nav"},pt={class:"side-nav-section"},gt={id:"overview",class:"section-anchor"},bt={key:0,class:"trial-banner"},yt={class:"banner-left"},ft={class:"banner-text"},ht={class:"banner-right"},Ct={class:"alert-content"},kt={class:"alert-title"},wt={class:"alert-text"},At={class:"billing-section"},_t={class:"section-header-row"},$t={class:"balance-grid"},St={class:"balance-card"},xt={class:"balance-value"},Mt={class:"balance-sublabel"},Tt={class:"balance-card"},Pt={class:"balance-value"},Lt={class:"balance-sublabel"},Bt={key:0},Ot={class:"balance-card"},Rt={class:"balance-value"},Ft={class:"balance-sublabel"},Nt={key:0,class:"config-panel"},Ut={class:"form-row"},Vt={class:"form-group"},It={class:"checkbox-label"},Dt={key:0,class:"form-row"},Et={class:"form-group"},Wt={class:"form-group"},Gt={class:"form-actions"},Yt={id:"usage",class:"section-anchor"},qt={class:"billing-section"},Ht={class:"usage-tabs"},jt={key:0,class:"usage-content"},zt={class:"usage-table"},Jt={class:"agent-name"},Kt={class:"channels-list"},Qt={class:"table-row total-row"},Xt={key:1,class:"usage-content"},Zt={class:"usage-table"},te={class:"percentage-bar-container"},ee={class:"percentage-text"},se={class:"table-row total-row"},ne={key:2,class:"usage-content"},ae={class:"usage-table"},oe={id:"payment",class:"section-anchor"},le={class:"billing-section"},ie={key:0,class:"payment-method-card"},de={key:1,class:"empty-payment"},re={id:"alerts",class:"section-anchor"},ue={class:"billing-section"},ve={class:"alerts-list"},ce={class:"checkbox-label"},me=["onUpdate:modelValue"],pe={class:"alert-item-content"},ge={class:"alert-item-title"},be={class:"alert-item-desc"},ye={class:"modal-header"},fe={class:"modal-body"},he={class:"credit-options"},Ce=["onClick"],ke={class:"credit-amount"},we={class:"credit-conversations"},Ae={key:0,class:"popular-badge"},_e={class:"custom-amount"},$e={class:"custom-input-group"},Se={key:0,class:"custom-conversions"},xe={class:"payment-summary"},Me={class:"summary-row"},Te={class:"summary-row total"},Pe={key:0,class:"payment-notice"},Le={class:"modal-footer"},Be=["disabled"],Oe={__name:"BillingView",setup(Re){const O=at(),_=i(!1),h=i("overview"),$=i(null);function M(l){O.push(l)}function D(){_.value=!_.value}function E(){localStorage.removeItem("daart-agents"),localStorage.removeItem("daart-conversations"),localStorage.removeItem("daart-onboarding-complete"),O.push("/signup")}function S(l){const e=document.getElementById(l);if(e&&$.value){const s=e.offsetTop-$.value.offsetTop;$.value.scrollTo({top:s,behavior:"smooth"}),h.value=l}}const W=i(!0),G=i(847),Y=i(23),v=i(445),R=i(278),C=i(!1),T=i(250),P=i(50),k=i(!1),q=i([{threshold:80,enabled:!0,description:"Warning - consider adding more credits"},{threshold:100,enabled:!0,description:"All trial credits used - using paid credits"},{threshold:120,enabled:!0,description:"Approaching low balance"},{threshold:150,enabled:!1,description:"High usage alert"},{threshold:200,enabled:!1,description:"Very high usage alert"}]),H=b(()=>Math.floor(v.value/.5)<100),j=b(()=>{const l=Math.floor(v.value/.5);return l===0?"critical":l<50?"warning":"info"}),z=b(()=>{const l=Math.floor(v.value/.5);return l===0?"No Credits Remaining - Agents Paused":l<50?"Low Credit Balance":"Credit Balance Getting Low"}),J=b(()=>{const l=Math.floor(v.value/.5);return l===0?"Add credits now to resume your agents":`Only ${l} conversations remaining. Add credits to avoid service interruption.`}),u=i("agents"),F=i([{id:1,name:"Sales Agent",conversations:142,activeChannels:["Web Chat","Phone"]},{id:2,name:"Support Agent",conversations:89,activeChannels:["Web Chat","SMS"]},{id:3,name:"Onboarding Agent",conversations:47,activeChannels:["Phone"]}]),x=b(()=>F.value.reduce((l,e)=>l+e.conversations,0)),K=b(()=>{const l=[{name:"Web Chat",conversations:156},{name:"Phone",conversations:89},{name:"SMS",conversations:33}],e=l.reduce((s,g)=>s+g.conversations,0);return l.map(s=>({...s,percentage:Math.round(s.conversations/e*100)}))}),L=i([{id:1,date:"Nov 1, 2025",type:"Credit Purchase",amount:250,balanceAfter:445,status:"completed"},{id:2,date:"Oct 28, 2025",type:"Usage",amount:-42.48,balanceAfter:195,status:"completed"},{id:3,date:"Oct 15, 2025",type:"Credit Purchase",amount:100,balanceAfter:237.48,status:"completed"},{id:4,date:"Oct 12, 2025",type:"Usage",amount:-28.16,balanceAfter:137.48,status:"completed"},{id:5,date:"Oct 1, 2025",type:"Trial Credits",amount:890,balanceAfter:165.64,status:"completed"}]),B=i(!0);function Q(){alert("Add payment method flow would open here")}const c=i(!1),w=i(null),m=i(null),X=i([{amount:100,conversations:112,popular:!1},{amount:250,conversations:280,popular:!0},{amount:500,conversations:561,popular:!1},{amount:1e3,conversations:1123,popular:!1}]),p=b(()=>m.value&&m.value>=10?m.value:w.value||0);function Z(){p.value!==0&&(v.value+=p.value,L.value.unshift({id:L.value.length+1,date:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),type:"Credit Purchase",amount:p.value,balanceAfter:v.value,status:"completed"}),w.value=null,m.value=null,c.value=!1,alert(`Successfully added $${p.value.toFixed(2)} to your account!`))}function tt(){k.value=!1,alert("Auto-recharge settings saved!")}return et(()=>{const l=localStorage.getItem("daart-billing");l&&JSON.parse(l)}),(l,e)=>(o(),a("div",it,[t("div",dt,[e[27]||(e[27]=t("div",{class:"nav-left"},[t("div",{class:"app-title"},"Dialpad Agents")],-1)),t("div",rt,[t("button",{class:"nav-tab",onClick:e[0]||(e[0]=s=>M("/agents-workspace"))},"AGENTS"),t("button",{class:"nav-tab",onClick:e[1]||(e[1]=s=>M("/insights"))},"ANALYTICS"),e[25]||(e[25]=t("button",{class:"nav-tab active"},"BILLING",-1))]),t("div",ut,[t("div",{class:"profile-dropdown",onClick:D},[e[26]||(e[26]=t("span",{class:"profile-email"},"admin@company.com",-1)),t("span",vt,n(_.value?"▲":"▼"),1),_.value?(o(),a("div",{key:0,class:"dropdown-menu",onClick:e[3]||(e[3]=N(()=>{},["stop"]))},[t("button",{class:"dropdown-item",onClick:e[2]||(e[2]=s=>M("/settings"))},"Settings"),t("button",{class:"dropdown-item",onClick:E},"Sign Out")])):d("",!0)])])]),t("div",ct,[t("div",mt,[t("div",pt,[t("button",{class:r(["side-nav-item",{active:h.value==="overview"}]),onClick:e[4]||(e[4]=s=>S("overview"))}," Overview ",2),t("button",{class:r(["side-nav-item",{active:h.value==="usage"}]),onClick:e[5]||(e[5]=s=>S("usage"))}," Usage & Reports ",2),t("button",{class:r(["side-nav-item",{active:h.value==="payment"}]),onClick:e[6]||(e[6]=s=>S("payment"))}," Payment Methods ",2),t("button",{class:r(["side-nav-item",{active:h.value==="alerts"}]),onClick:e[7]||(e[7]=s=>S("alerts"))}," Alerts & Notifications ",2)])]),t("div",{class:"billing-content",ref_key:"contentArea",ref:$},[t("div",gt,[W.value?(o(),a("div",bt,[t("div",yt,[e[28]||(e[28]=t("div",{class:"banner-title"},"Free Trial Active",-1)),t("div",ft,n(G.value.toLocaleString())+" conversations remaining OR "+n(Y.value)+" days left (whichever comes first) ",1)]),t("div",ht,[t("button",{class:"btn-primary",onClick:e[8]||(e[8]=s=>c.value=!0)},"Add Credits Now")])])):d("",!0),H.value?(o(),a("div",{key:1,class:r(["alert-banner",j.value])},[t("div",Ct,[t("div",kt,n(z.value),1),t("div",wt,n(J.value),1)]),t("button",{class:"btn-secondary-small",onClick:e[9]||(e[9]=s=>c.value=!0)},"Add Credits")],2)):d("",!0),t("div",At,[t("div",_t,[e[29]||(e[29]=t("div",null,[t("h2",null,"Credit Balance"),t("p",{class:"section-desc"},"Prepaid conversation credits at $0.50 per conversation")],-1)),t("button",{class:"btn-primary",onClick:e[10]||(e[10]=s=>c.value=!0)},"Add Credits")]),t("div",$t,[t("div",St,[e[30]||(e[30]=t("div",{class:"balance-label"},"Current Balance",-1)),t("div",xt,"$"+n(v.value.toFixed(2)),1),t("div",Mt,"≈ "+n(Math.floor(v.value/.5).toLocaleString())+" conversations",1)]),t("div",Tt,[e[31]||(e[31]=t("div",{class:"balance-label"},"Auto-Recharge",-1)),t("div",Pt,n(C.value?"On":"Off"),1),t("div",Lt,[C.value?(o(),a("span",Bt,"+$"+n(T.value)+" at $"+n(P.value),1)):d("",!0),t("button",{class:"btn-link-small",onClick:e[11]||(e[11]=s=>k.value=!k.value)},"Configure")])]),t("div",Ot,[e[32]||(e[32]=t("div",{class:"balance-label"},"This Month",-1)),t("div",Rt,n(R.value.toLocaleString()),1),t("div",Ft,"$"+n((R.value*.5).toFixed(2))+" spent",1)])]),e[40]||(e[40]=U('<div class="info-panel" data-v-8974a923><h3 data-v-8974a923>What happens when my credits run out?</h3><ul class="info-list" data-v-8974a923><li data-v-8974a923><strong data-v-8974a923>Your agents will pause</strong> - they won&#39;t be deleted, just temporarily stopped</li><li data-v-8974a923><strong data-v-8974a923>No automatic charges</strong> - we never charge your card without your permission</li><li data-v-8974a923><strong data-v-8974a923>You control when to add credits</strong> - add credits anytime to resume your agents</li><li data-v-8974a923><strong data-v-8974a923>Payment method required only when buying credits</strong> - not required to start your free trial</li><li data-v-8974a923><strong data-v-8974a923>Optional auto-recharge</strong> - set it up below to automatically add credits when balance gets low</li></ul></div>',1)),k.value?(o(),a("div",Nt,[e[38]||(e[38]=t("h3",null,"Auto-Recharge Settings",-1)),e[39]||(e[39]=t("p",{class:"config-desc"},"Automatically add credits when your balance gets low",-1)),t("div",Ut,[t("div",Vt,[t("label",It,[A(t("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=s=>C.value=s)},null,512),[[V,C.value]]),e[33]||(e[33]=st(" Enable Auto-Recharge ",-1))])])]),C.value?(o(),a("div",Dt,[t("div",Et,[e[35]||(e[35]=t("label",null,"Recharge Amount",-1)),A(t("select",{"onUpdate:modelValue":e[13]||(e[13]=s=>T.value=s),class:"input-field"},[...e[34]||(e[34]=[t("option",{value:100},"$100 (≈ 112 conversations)",-1),t("option",{value:250},"$250 (≈ 280 conversations)",-1),t("option",{value:500},"$500 (≈ 561 conversations)",-1),t("option",{value:1e3},"$1,000 (≈ 1,123 conversations)",-1)])],512),[[I,T.value]])]),t("div",Wt,[e[37]||(e[37]=t("label",null,"Trigger When Balance Falls Below",-1)),A(t("select",{"onUpdate:modelValue":e[14]||(e[14]=s=>P.value=s),class:"input-field"},[...e[36]||(e[36]=[t("option",{value:25},"$25",-1),t("option",{value:50},"$50",-1),t("option",{value:100},"$100",-1),t("option",{value:200},"$200",-1)])],512),[[I,P.value]])])])):d("",!0),t("div",Gt,[t("button",{class:"btn-secondary",onClick:e[15]||(e[15]=s=>k.value=!1)},"Cancel"),t("button",{class:"btn-primary",onClick:tt},"Save Settings")])])):d("",!0)])]),t("div",Yt,[t("div",qt,[e[48]||(e[48]=t("h2",null,"Usage Overview",-1)),e[49]||(e[49]=t("p",{class:"section-desc"},"Conversation usage across all agents and channels",-1)),t("div",Ht,[t("button",{class:r(["usage-tab",{active:u.value==="agents"}]),onClick:e[16]||(e[16]=s=>u.value="agents")}," By Agent ",2),t("button",{class:r(["usage-tab",{active:u.value==="channels"}]),onClick:e[17]||(e[17]=s=>u.value="channels")}," By Channel ",2),t("button",{class:r(["usage-tab",{active:u.value==="history"}]),onClick:e[18]||(e[18]=s=>u.value="history")}," Transaction History ",2)]),u.value==="agents"?(o(),a("div",jt,[t("div",zt,[e[43]||(e[43]=t("div",{class:"table-header"},[t("div",null,"Agent Name"),t("div",null,"Conversations"),t("div",null,"Cost"),t("div",null,"Channels")],-1)),(o(!0),a(y,null,f(F.value,s=>(o(),a("div",{key:s.id,class:"table-row"},[t("div",Jt,n(s.name),1),t("div",null,n(s.conversations.toLocaleString()),1),t("div",null,"$"+n((s.conversations*.5).toFixed(2)),1),t("div",Kt,[(o(!0),a(y,null,f(s.activeChannels,g=>(o(),a("span",{key:g,class:"channel-tag"},n(g),1))),128))])]))),128)),t("div",Qt,[e[41]||(e[41]=t("div",null,[t("strong",null,"Total")],-1)),t("div",null,[t("strong",null,n(x.value.toLocaleString()),1)]),t("div",null,[t("strong",null,"$"+n((x.value*.5).toFixed(2)),1)]),e[42]||(e[42]=t("div",null,null,-1))])])])):d("",!0),u.value==="channels"?(o(),a("div",Xt,[t("div",Zt,[e[46]||(e[46]=t("div",{class:"table-header"},[t("div",null,"Channel"),t("div",null,"Conversations"),t("div",null,"Cost"),t("div",null,"Percentage")],-1)),(o(!0),a(y,null,f(K.value,s=>(o(),a("div",{key:s.name,class:"table-row"},[t("div",null,n(s.name),1),t("div",null,n(s.conversations.toLocaleString()),1),t("div",null,"$"+n((s.conversations*.5).toFixed(2)),1),t("div",null,[t("div",te,[t("div",{class:"percentage-bar",style:ot({width:s.percentage+"%"})},null,4),t("span",ee,n(s.percentage)+"%",1)])])]))),128)),t("div",se,[e[44]||(e[44]=t("div",null,[t("strong",null,"Total")],-1)),t("div",null,[t("strong",null,n(x.value.toLocaleString()),1)]),t("div",null,[t("strong",null,"$"+n((x.value*.5).toFixed(2)),1)]),e[45]||(e[45]=t("div",null,[t("strong",null,"100%")],-1))])])])):d("",!0),u.value==="history"?(o(),a("div",ne,[t("div",ae,[e[47]||(e[47]=t("div",{class:"table-header"},[t("div",null,"Date"),t("div",null,"Type"),t("div",null,"Amount"),t("div",null,"Balance After"),t("div",null,"Status")],-1)),(o(!0),a(y,null,f(L.value,s=>(o(),a("div",{key:s.id,class:"table-row"},[t("div",null,n(s.date),1),t("div",null,n(s.type),1),t("div",{class:r(s.amount>0?"amount-positive":"amount-negative")},n(s.amount>0?"+":"")+"$"+n(Math.abs(s.amount).toFixed(2)),3),t("div",null,"$"+n(s.balanceAfter.toFixed(2)),1),t("div",null,[t("span",{class:r(["status-badge",s.status])},n(s.status),3)])]))),128))])])):d("",!0)])]),t("div",oe,[t("div",le,[e[52]||(e[52]=t("h2",null,"Payment Method",-1)),e[53]||(e[53]=t("p",{class:"section-desc"},"Manage your payment methods for credit purchases",-1)),B.value?(o(),a("div",ie,[...e[50]||(e[50]=[U('<div class="payment-left" data-v-8974a923><div class="payment-type" data-v-8974a923>Visa ending in 4242</div><div class="payment-expires" data-v-8974a923>Expires 12/2027</div></div><div class="payment-right" data-v-8974a923><button class="btn-link" data-v-8974a923>Update</button><button class="btn-link" data-v-8974a923>Remove</button></div>',2)])])):(o(),a("div",de,[e[51]||(e[51]=t("p",null,"No payment method on file",-1)),t("button",{class:"btn-secondary",onClick:Q},"Add Payment Method")]))])]),t("div",re,[t("div",ue,[e[54]||(e[54]=t("h2",null,"Usage Alerts",-1)),e[55]||(e[55]=t("p",{class:"section-desc"},"Get notified when you reach spending thresholds",-1)),t("div",ve,[(o(!0),a(y,null,f(q.value,s=>(o(),a("div",{key:s.threshold,class:"alert-item"},[t("label",ce,[A(t("input",{type:"checkbox","onUpdate:modelValue":g=>s.enabled=g},null,8,me),[[V,s.enabled]]),t("div",pe,[t("div",ge,n(s.threshold)+"% of initial balance spent",1),t("div",be,n(s.description),1)])])]))),128))])])])],512)]),c.value?(o(),a("div",{key:0,class:"modal-overlay",onClick:e[24]||(e[24]=s=>c.value=!1)},[t("div",{class:"modal-content",onClick:e[23]||(e[23]=N(()=>{},["stop"]))},[t("div",ye,[e[56]||(e[56]=t("h2",null,"Add Credits",-1)),t("button",{class:"modal-close",onClick:e[19]||(e[19]=s=>c.value=!1)},"×")]),t("div",fe,[e[61]||(e[61]=t("p",{class:"modal-desc"},"Select an amount to add to your credit balance",-1)),t("div",he,[(o(!0),a(y,null,f(X.value,s=>(o(),a("button",{key:s.amount,class:r(["credit-option",{selected:w.value===s.amount}]),onClick:g=>w.value=s.amount},[t("div",ke,"$"+n(s.amount),1),t("div",we,"≈ "+n(s.conversations)+" conversations",1),s.popular?(o(),a("div",Ae,"Popular")):d("",!0)],10,Ce))),128))]),t("div",_e,[e[58]||(e[58]=t("label",null,"Custom Amount",-1)),t("div",$e,[e[57]||(e[57]=t("span",{class:"input-prefix"},"$",-1)),A(t("input",{type:"number","onUpdate:modelValue":e[20]||(e[20]=s=>m.value=s),class:"input-field",placeholder:"Enter amount",min:"10",onInput:e[21]||(e[21]=s=>w.value=null)},null,544),[[nt,m.value,void 0,{number:!0}]])]),m.value>=10?(o(),a("div",Se," ≈ "+n(Math.floor(m.value/.5).toLocaleString())+" conversations ",1)):d("",!0)]),t("div",xe,[t("div",Me,[e[59]||(e[59]=t("span",null,"Amount",-1)),t("span",null,"$"+n(p.value.toFixed(2)),1)]),t("div",Te,[e[60]||(e[60]=t("span",null,"Total",-1)),t("span",null,"$"+n(p.value.toFixed(2)),1)])]),B.value?d("",!0):(o(),a("div",Pe," You'll be prompted to add a payment method to complete this purchase. "))]),t("div",Le,[t("button",{class:"btn-secondary",onClick:e[22]||(e[22]=s=>c.value=!1)},"Cancel"),t("button",{class:"btn-primary",disabled:p.value===0,onClick:Z},n(B.value?"Purchase Credits":"Add Payment & Purchase"),9,Be)])])])):d("",!0)]))}},Ue=lt(Oe,[["__scopeId","data-v-8974a923"]]);export{Ue as default};
