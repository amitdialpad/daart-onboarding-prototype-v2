import{r as u,g as _,h as Me,c as o,o as a,j as d,a as s,k as M,F as D,i as N,t as i,d as v,v as b,l as Xe,e as T,C as Te,x as $s,m as Ps,p as Ds,y as De,z as We,A as Ws,n as Us,b as ee,s as G,q as fe,B as Ue,w as ge,f as Vs}from"./index-BjwPefqb.js";import{_ as Ze}from"./_plugin-vue_export-helper-DlAUqK2U.js";const zs={class:"testing-panel"},Ns={key:0,class:"channel-tabs"},Rs={key:1,class:"test-content"},Bs={key:0,class:"active-channels-bar"},Hs={class:"message-content"},Es={key:0,class:"test-message agent typing-indicator"},Fs={key:1,class:"test-suggestions"},Ks=["onClick"],Ls={class:"test-input-area"},Os=["disabled"],qs={key:2,class:"test-content"},Js={class:"voice-test-panel"},Ys={class:"voice-test-status"},Gs={class:"voice-test-info"},js={class:"info-row"},Qs={class:"info-value"},Xs={key:0,class:"info-row"},Zs={class:"info-value"},et={class:"voice-test-actions"},st={key:1,class:"btn-secondary btn-full",disabled:""},tt={class:"voice-transcript"},nt={key:0,class:"no-transcript"},at={class:"transcript-speaker"},ot={class:"transcript-text"},lt={class:"transcript-time"},it={__name:"TestingPanel",props:{agent:{type:Object,required:!0}},setup(ze){const f=ze,W=u("chat"),t=_(()=>{var r;return f.agent.agentType?f.agent.agentType:f.agent.channels&&(r=f.agent.channels.voice)!=null&&r.enabled?"phone":"chat"}),j=_(()=>{var h,$;if(!f.agent.channels)return!1;const r=((h=f.agent.channels.webChat)==null?void 0:h.enabled)!==!1,c=(($=f.agent.channels.voice)==null?void 0:$.enabled)===!0;return r&&c}),se=_(()=>{var r;return f.agent.agentType==="chat"?!0:f.agent.channels?j.value?W.value==="chat":((r=f.agent.channels.webChat)==null?void 0:r.enabled)!==!1:!1}),me=_(()=>{var r;return f.agent.agentType==="phone"?!0:f.agent.channels?j.value?W.value==="voice":((r=f.agent.channels.voice)==null?void 0:r.enabled)===!0:!1}),ue=_(()=>{var h,$;if(t.value!=="chat")return[];const r=["Web Chat"];return(f.agent.smsEnabled||(($=(h=f.agent.channels)==null?void 0:h.sms)==null?void 0:$.enabled))&&r.push("SMS"),r}),O=u([]),k=u(""),q=u(!1),A=u(!1),H=u(null),te=_(()=>{const r=[];return f.agent.knowledgeBase&&f.agent.knowledgeBase.length>50&&(r.push("Tell me about your services"),r.push("What are your hours?")),f.agent.skills&&f.agent.skills.length>0&&(r.push("Can you help me with my order?"),r.push("I need technical support")),r.length===0&&r.push("Hello","How can you help me?","What can you do?"),r}),x=u("idle"),F=u("+1 (555) 000-0000"),R=u(0),K=u([]),U=u(null);let Q=null;const ne=_(()=>{switch(x.value){case"idle":return"Ready to Test";case"connecting":return"Connecting...";case"connected":return"Call Active";case"ended":return"Call Ended";default:return"Ready to Test"}}),re=_(()=>{const r=Math.floor(R.value/60),c=R.value%60;return`${r}:${c.toString().padStart(2,"0")}`});function B(){!k.value.trim()||A.value||(ae(k.value),k.value="")}function ae(r){O.value.push({type:"user",text:r}),Te(()=>{H.value&&(H.value.scrollTop=H.value.scrollHeight)}),q.value=!0,A.value=!0,setTimeout(()=>{q.value=!1;let c=ce(r);O.value.push({type:"agent",text:c}),A.value=!1,Te(()=>{H.value&&(H.value.scrollTop=H.value.scrollHeight)})},1500)}function ce(r){const c=r.toLowerCase();return f.agent.instructions,c.includes("hello")||c.includes("hi")?f.agent.welcomeMessage||"Hello! How can I help you today?":c.includes("hours")||c.includes("open")?"We're open Monday through Friday, 9 AM to 5 PM. How can I assist you?":c.includes("help")||c.includes("support")?"I'm here to help! I can answer questions about our products and services. What would you like to know?":"Thanks for your message. Based on my configuration, I can assist you with various inquiries. What would you like to know more about?"}function w(){O.value=[]}function V(){x.value="connecting",setTimeout(()=>{x.value="connected",R.value=0,Q=setInterval(()=>{R.value++},1e3);const r=f.agent.greetingMessage||"Hello! How can I help you today?";K.value.push({speaker:"Agent",text:r,time:"00:00"}),oe()},2e3)}function I(){x.value="ended",Q&&(clearInterval(Q),Q=null),setTimeout(()=>{x.value="idle"},2e3)}function oe(){setTimeout(()=>{x.value==="connected"&&(K.value.push({speaker:"You",text:"Hi, I need help with my account.",time:L(R.value)}),Te(()=>{U.value&&(U.value.scrollTop=U.value.scrollHeight)}))},3e3),setTimeout(()=>{x.value==="connected"&&(K.value.push({speaker:"Agent",text:"I'd be happy to help you with your account. What specific issue are you experiencing?",time:L(R.value)}),Te(()=>{U.value&&(U.value.scrollTop=U.value.scrollHeight)}))},5e3)}function L(r){const c=Math.floor(r/60),h=r%60;return`${c}:${h.toString().padStart(2,"0")}`}return Me(()=>f.agent.phoneNumber,r=>{r&&(F.value=r)},{immediate:!0}),(r,c)=>(a(),o("div",zs,[j.value?(a(),o("div",Ns,[s("button",{class:M(["channel-tab",{active:W.value==="chat"}]),onClick:c[0]||(c[0]=h=>W.value="chat")}," Web Chat ",2),s("button",{class:M(["channel-tab",{active:W.value==="voice"}]),onClick:c[1]||(c[1]=h=>W.value="voice")}," Voice Call ",2)])):d("",!0),se.value?(a(),o("div",Rs,[s("div",{class:"test-content-header"},[c[3]||(c[3]=s("span",null,"Digital Agent Testing",-1)),s("button",{class:"btn-icon",onClick:w},"Clear")]),ue.value.length>0?(a(),o("div",Bs,[c[4]||(c[4]=s("span",{class:"channels-label"},"Active Channels:",-1)),(a(!0),o(D,null,N(ue.value,h=>(a(),o("span",{key:h,class:"channel-badge"},i(h),1))),128))])):d("",!0),s("div",{class:"test-messages",ref_key:"messagesContainer",ref:H},[(a(!0),o(D,null,N(O.value,(h,$)=>(a(),o("div",{key:$,class:M(["test-message",h.type])},[s("div",Hs,i(h.text),1)],2))),128)),q.value?(a(),o("div",Es,[...c[5]||(c[5]=[s("div",{class:"message-content"},[s("span",{class:"dot"}),s("span",{class:"dot"}),s("span",{class:"dot"})],-1)])])):d("",!0)],512),te.value.length>0?(a(),o("div",Fs,[(a(!0),o(D,null,N(te.value.slice(0,5),(h,$)=>(a(),o("button",{key:$,class:"suggestion-chip",onClick:le=>ae(h)},i(h),9,Ks))),128))])):d("",!0),s("div",Ls,[v(s("input",{"onUpdate:modelValue":c[2]||(c[2]=h=>k.value=h),onKeyup:Xe(B,["enter"]),type:"text",class:"test-input",placeholder:"Type a test message..."},null,544),[[b,k.value]]),s("button",{class:"btn-send",onClick:B,disabled:!k.value.trim()||A.value},i(A.value?"...":"Send"),9,Os)])])):d("",!0),me.value?(a(),o("div",qs,[s("div",Js,[s("div",Ys,[s("div",{class:M(["voice-status-indicator",x.value])},[c[6]||(c[6]=s("div",{class:"status-dot"},null,-1)),s("span",null,i(ne.value),1)],2)]),s("div",Gs,[s("div",js,[c[7]||(c[7]=s("span",{class:"info-label"},"Test Number:",-1)),s("span",Qs,i(F.value),1)]),R.value>0?(a(),o("div",Xs,[c[8]||(c[8]=s("span",{class:"info-label"},"Duration:",-1)),s("span",Zs,i(re.value),1)])):d("",!0)]),s("div",et,[x.value==="idle"?(a(),o("button",{key:0,class:"btn-primary btn-full",onClick:V}," Start Test Call ")):x.value==="connecting"?(a(),o("button",st,[...c[9]||(c[9]=[T(" Connecting",-1),s("span",{class:"dots"},"...",-1)])])):x.value==="connected"?(a(),o("button",{key:2,class:"btn-danger btn-full",onClick:I}," End Call ")):d("",!0)]),s("div",tt,[c[10]||(c[10]=s("div",{class:"transcript-header"},"Live Transcript",-1)),s("div",{class:"transcript-messages",ref_key:"transcriptContainer",ref:U},[K.value.length===0?(a(),o("div",nt," Start a test call to see the transcript ")):d("",!0),(a(!0),o(D,null,N(K.value,(h,$)=>(a(),o("div",{key:$,class:"transcript-message"},[s("div",at,i(h.speaker),1),s("div",ot,i(h.text),1),s("div",lt,i(h.time),1)]))),128))],512)])])])):d("",!0)]))}},Ve=Ze(it,[["__scopeId","data-v-7a0672f9"]]),dt={class:"workspace-v2"},ut={key:0,class:"no-agent-state"},rt={key:1,class:"agent-workspace"},ct={class:"workspace-header"},vt={class:"header-left"},pt={class:"agent-name"},gt={class:"agent-meta"},mt={class:"meta-type"},ht={key:0,class:"meta-divider"},ft={key:1,class:"meta-divider"},yt={key:2,class:"auto-save-status saving"},bt={key:3,class:"meta-divider"},wt={key:4,class:"auto-save-status saved"},kt={class:"header-right"},Ct={key:0,class:"agent-actions-menu",ref:"actionsMenu"},St={key:0,class:"actions-dropdown"},Tt={class:"workspace-main"},Mt={key:0,class:"wizard-container"},xt={class:"wizard-header"},It={class:"wizard-progress"},_t={class:"wizard-step-indicator"},At={class:"wizard-progress-bar"},$t={class:"wizard-step-content"},Pt={key:0,class:"wizard-step wizard-step-split"},Dt={class:"wizard-left"},Wt={class:"form-group"},Ut={class:"form-group"},Vt={class:"channel-toggle-group"},zt={class:"channel-toggle-content"},Nt={class:"channel-toggle-status"},Rt={class:"form-group"},Bt={class:"collapse-icon"},Ht={key:0,class:"collapsible-content"},Et={class:"wizard-right"},Ft={class:"test-panel"},Kt={class:"test-panel-header"},Lt={key:0,class:"test-welcome"},Ot={class:"message-bubble"},qt={key:1,class:"test-message assistant"},Jt={class:"test-input-container"},Yt=["disabled"],Gt=["disabled"],jt={class:"test-suggestions"},Qt=["onClick","disabled"],Xt={key:1,class:"wizard-step"},Zt={class:"knowledge-tabs"},en={key:0,class:"knowledge-tab-content"},sn={class:"form-group"},tn={key:1,class:"knowledge-tab-content"},nn={key:2,class:"knowledge-tab-content"},an={class:"form-group"},on=["disabled"],ln={key:0,class:"added-websites"},dn={class:"website-url"},un=["onClick"],rn={key:2,class:"wizard-step"},cn={class:"form-group"},vn={class:"form-group"},pn={class:"position-selector"},gn={class:"form-group"},mn={class:"color-picker-group"},hn={key:3,class:"wizard-step wizard-complete"},fn={key:0,class:"wizard-navigation"},yn={class:"build-sections-nav"},bn=["onClick"],wn={key:0,class:"wizard-mode-prompt"},kn={id:"configuration",class:"config-section build-section-anchor"},Cn={class:"form-group"},Sn={class:"form-group"},Tn={id:"knowledge-base",class:"config-section build-section-anchor"},Mn={class:"knowledge-header"},xn={class:"knowledge-sources-list"},In={key:0,class:"knowledge-source-item"},_n={class:"source-checkbox"},An={class:"checkbox-label"},$n={class:"source-info"},Pn={class:"source-size"},Dn={key:1,class:"knowledge-source-item"},Wn={class:"source-checkbox"},Un={class:"checkbox-label"},Vn={class:"source-info"},zn={class:"source-count"},Nn={key:2,class:"knowledge-source-item"},Rn={class:"source-checkbox"},Bn={class:"checkbox-label"},Hn={class:"source-info"},En={class:"source-count"},Fn={key:3,class:"knowledge-source-item"},Kn={class:"source-checkbox"},Ln={class:"checkbox-label"},On={class:"source-info"},qn={class:"source-count"},Jn={key:4,class:"knowledge-empty-state"},Yn={id:"skills",class:"config-section build-section-anchor"},Gn={class:"skills-list"},jn={key:0},Qn={class:"skill-info"},Xn={class:"skill-header-row"},Zn={class:"skill-name"},ea={key:0,class:"config-badge"},sa={class:"skill-desc"},ta={key:0,class:"skill-mcp-info"},na={class:"skill-actions"},aa=["onClick"],oa=["onClick"],la={class:"toggle-switch"},ia=["onUpdate:modelValue"],da={key:1,class:"skills-empty"},ua={id:"channels-configuration",class:"config-section build-section-anchor"},ra={class:"channel-block"},ca={class:"channel-header"},va={class:"toggle-switch"},pa={key:0,class:"channel-config"},ga={class:"collapsible-section"},ma={key:0,class:"collapsible-content"},ha={class:"form-group"},fa={class:"form-group"},ya={class:"form-group"},ba={class:"color-picker-group"},wa={class:"channel-block"},ka={class:"channel-header"},Ca={class:"toggle-switch"},Sa={key:0,class:"channel-config"},Ta={class:"form-group"},Ma={class:"form-group"},xa={class:"form-group"},Ia={class:"form-group"},_a={class:"form-group"},Aa={class:"range-value"},$a={class:"form-group"},Pa={class:"channel-block"},Da={class:"channel-header"},Wa={class:"toggle-switch"},Ua={key:0,class:"channel-config"},Va={class:"form-group"},za={class:"form-group checkbox-group"},Na={key:0,class:"form-group"},Ra={class:"build-testing-panel"},Ba={key:1,class:"test-layout"},Ha={class:"test-scenarios-main"},Ea={class:"test-header"},Fa={class:"test-header-left"},Ka={class:"test-meta"},La={class:"test-header-right"},Oa=["disabled"],qa={key:0,class:"test-empty-state"},Ja={key:1,class:"test-scenarios-list"},Ya={class:"scenario-header"},Ga={class:"scenario-name"},ja=["onClick","disabled"],Qa={key:0},Xa={key:1},Za={key:2},eo={key:3},so={class:"scenario-prompt"},to={class:"scenario-keywords"},no={class:"keywords-list"},ao={key:0,class:"scenario-results"},oo={class:"result-response"},lo={key:0,class:"result-matched"},io={class:"matched-keywords"},uo={key:1,class:"result-missing"},ro={class:"missing-keywords"},co={class:"test-panel-wrapper"},vo={key:2,class:"monitor-layout"},po={class:"monitor-main"},go={key:0,class:"live-dashboard"},mo={class:"status-card live"},ho={class:"status-info"},fo={class:"status-text"},yo={class:"active-channels"},bo={class:"conversation-history"},wo={class:"conversation-list"},ko={class:"conv-header"},Co={class:"conv-time"},So={class:"conv-user"},To={class:"conv-summary"},Mo={class:"conv-footer"},xo={class:"conv-duration"},Io={key:1,class:"draft-dashboard"},_o={key:0,class:"historical-data"},Ao={class:"historical-note"},$o={class:"monitor-panel-wrapper"},Po={class:"modal-dialog"},Do={class:"modal-body"},Wo={class:"form-group"},Uo={class:"form-group"},Vo={class:"form-group"},zo={class:"form-group"},No={class:"modal-footer"},Ro=["disabled"],Bo={class:"modal-body"},Ho={class:"modal-intro"},Eo={key:0,class:"activity-warning"},Fo={class:"warning-content"},Ko={class:"warning-details"},Lo={key:0,class:"activity-item"},Oo={class:"activity-count"},qo={key:1,class:"activity-item"},Jo={class:"activity-count"},Yo={key:1,class:"no-activity-info"},Go={class:"modal-footer"},jo={class:"modal-body"},Qo={class:"modal-body"},Xo={class:"modal-intro"},Zo={class:"duplicate-options"},el={class:"option-content"},sl={class:"option-desc"},tl={class:"modal-header"},nl={class:"modal-body"},al={class:"skill-test-input-section"},ol=["disabled"],ll={key:0,class:"skill-test-result-section"},il={class:"result-header"},dl={class:"result-content"},ul={key:0,class:"result-logs"},rl={class:"logs-content"},cl={class:"modal-header"},vl={class:"modal-body"},pl={class:"form-group"},gl={class:"form-group"},ml={class:"form-group"},hl={key:0,class:"form-group"},fl={class:"modal-footer"},yl={__name:"AgentsWorkspaceV2View",setup(ze){const f=$s(),W=Vs(),t=u(null),j=u(!1),se=u(!1),me=u(null),ue=u("configuration"),O=u(!1),k=u({name:"",prompt:"",keywords:"",passCriteria:"contains-all"}),q=u({}),A=u({}),H=u(!1),te=u(!1),x=u(0),F=u(0),R=u(!1),K=u(!1),U=u(!1),Q=u(!1),ne=u(null),re=u(""),B=u(null),ae=u(!1),ce=u(!1),w=u({name:"",description:"",mcpServer:"",parameters:""}),V=u(!1),I=u(1),oe=u(!1),L=u(""),r=u("text"),c=u(""),h=u([]),$=u(!1),le=u([]),J=u(""),X=u(!1),Ne=u(!1),ie=u(null),es=_(()=>{var e;return{support:["What are your hours?","How do I return an item?","I need help with my account"],sales:["Tell me about your products","What's your pricing?","Can I schedule a demo?"],hr:["How do I request time off?","What are the benefits?","Where's the employee handbook?"],orders:["Where's my order?","Track package #12345","How do I return something?"],scheduling:["Book an appointment","What times are available?","Cancel my booking"],general:["What are your hours?","Where are you located?","How can I contact you?"]}[(e=t.value)==null?void 0:e.problemType]||["What can you help me with?","Tell me about your services","How do I get started?"]});u([{id:"calendar",name:"Calendar & Scheduling",description:"Book, reschedule, and manage appointments with calendar integration"},{id:"order-lookup",name:"Order Lookup",description:"Check order status, tracking information, and delivery estimates"},{id:"knowledge-search",name:"Knowledge Base Search",description:"Search through documentation and knowledge articles for accurate answers"},{id:"user-auth",name:"User Authentication",description:"Verify customer identity before accessing sensitive information"},{id:"payment",name:"Payment Processing",description:"Handle payments, refunds, and billing inquiries securely"},{id:"ticket-creation",name:"Ticket Creation",description:"Create support tickets and escalate complex issues to human agents"},{id:"crm-integration",name:"CRM Integration",description:"Access customer data and update records in your CRM system"},{id:"lead-qualification",name:"Lead Qualification",description:"Qualify sales leads and route them to the appropriate team"}]);const ss=u([{id:1,channel:"web-chat",user:"Sarah Johnson",summary:"Asked about return policy and shipping times",time:"2 minutes ago",duration:"3m 24s",resolved:!0},{id:2,channel:"sms",user:"+1 (555) 234-5678",summary:"Inquired about order status for #12345",time:"15 minutes ago",duration:"1m 52s",resolved:!0},{id:3,channel:"voice",user:"+1 (555) 876-5432",summary:"Technical support for product setup",time:"1 hour ago",duration:"5m 18s",resolved:!1},{id:4,channel:"web-chat",user:"Mike Chen",summary:"Question about product specifications",time:"2 hours ago",duration:"2m 45s",resolved:!0},{id:5,channel:"sms",user:"+1 (555) 345-6789",summary:"Appointment rescheduling request",time:"3 hours ago",duration:"1m 30s",resolved:!0}]);let xe=null;const z=_(()=>{var C,y;const l=JSON.parse(localStorage.getItem("daart-knowledge-sources")||"{}"),e=localStorage.getItem("daart-org-knowledge");let m=null;if(e){const P=(JSON.parse(e).content||"").length;if(P>0){let p="";P<1e3?p=`${P} characters`:P<1e6?p=`${(P/1e3).toFixed(1)}K characters`:p=`${(P/1e6).toFixed(1)}M characters`,m={size:p}}}return{textContent:m,documents:l.documents||[],websites:l.websites||[],conversations:{enabled:((C=l.conversations)==null?void 0:C.enabled)||!1,count:((y=l.conversations)==null?void 0:y.count)||0}}}),ts=_(()=>z.value.textContent||z.value.documents.length>0||z.value.websites.length>0||z.value.conversations.enabled),Re=_(()=>{var e,m,C;const l=[{id:"configuration",label:"Configuration"},{id:"knowledge-base",label:"Knowledge Base"},{id:"skills",label:"Skills"}];return(e=t.value)!=null&&e.channels?(l.push({id:"channels-configuration",label:"Channels & Integrations"}),l.push({id:"conversation-flow",label:"Conversation Flow"})):((m=t.value)==null?void 0:m.agentType)==="chat"?(l.push({id:"chat-configuration",label:"Chat Configuration"}),l.push({id:"channels",label:"Channels"}),l.push({id:"conversation-flow",label:"Conversation Flow"})):((C=t.value)==null?void 0:C.agentType)==="phone"&&(l.push({id:"voice-configuration",label:"Voice Configuration"}),l.push({id:"conversation-flow",label:"Conversation Flow"})),l}),ye=u({chatAppearance:!0,chatMessages:!1,chatAvailability:!1,chatEscalation:!1,voiceSettings:!0,voiceGreetings:!1,voiceTransfer:!1});function ns(l){ye.value[l]=!ye.value[l]}const be=_(()=>f.path.includes("/build")?"build":f.path.includes("/test")?"test":f.path.includes("/monitor")?"monitor":"build"),Ie=_(()=>{var l;return((l=t.value)==null?void 0:l.agentType)==="phone"?"Voice Agent":"Digital Agent"}),_e=_(()=>{if(!t.value)return[];const l=[];return t.value.agentType==="phone"?l.push("Voice"):t.value.agentType==="chat"&&(l.push("Web Chat"),t.value.smsEnabled&&l.push("SMS")),l}),Be=_(()=>x.value>0||F.value>0),He=_(()=>t.value?t.value.needsWizard===!0:!1),ve=_(()=>3);function Ee(){const l=f.params.id,e=JSON.parse(localStorage.getItem("daart-agents")||"[]");t.value=e.find(m=>m.id===l),t.value&&(t.value.name||(t.value.name="Untitled Agent"),t.value.instructions||(t.value.instructions=""),t.value.status||(t.value.status="draft"),t.value.knowledgeSources||(t.value.knowledgeSources={textContent:!0,documents:!0,websites:!0,conversations:!0}),He.value&&be.value==="build"&&!oe.value?(V.value=!0,I.value=1,L.value||(L.value=ws(t.value.problemType))):He.value||(V.value=!1),t.value.phoneNumber||(t.value.phoneNumber="+1 (555) 000-0000"),t.value.voiceType||(t.value.voiceType="nova"),t.value.language||(t.value.language="en-US"),t.value.greetingMessage||(t.value.greetingMessage="Hello! Thank you for calling. How can I help you today?"),t.value.speechSpeed||(t.value.speechSpeed=1),t.value.smsEnabled||(t.value.smsEnabled=!1),t.value.skills||(t.value.skills=[]),t.value.knowledgeDocs||(t.value.knowledgeDocs=[]),t.value.testScenarios||(t.value.testScenarios=[]),t.value.agentType==="chat"&&(t.value.chatConfig||(t.value.chatConfig={}),t.value.chatConfig.widgetPosition||(t.value.chatConfig.widgetPosition="bottom-right"),t.value.chatConfig.primaryColor||(t.value.chatConfig.primaryColor="#000000"),t.value.chatConfig.displayName||(t.value.chatConfig.displayName="Support Assistant"),t.value.chatConfig.widgetSize||(t.value.chatConfig.widgetSize="standard"),t.value.chatConfig.welcomeMessage||(t.value.chatConfig.welcomeMessage="Hi! How can I help you today?"),t.value.chatConfig.enableProactive||(t.value.chatConfig.enableProactive=!1),t.value.chatConfig.proactiveMessage||(t.value.chatConfig.proactiveMessage=""),t.value.chatConfig.responseTime||(t.value.chatConfig.responseTime="Usually replies in 2 minutes"),t.value.chatConfig.showTypingIndicator||(t.value.chatConfig.showTypingIndicator=!0),t.value.chatConfig.businessHours||(t.value.chatConfig.businessHours="Monday-Friday, 9 AM - 5 PM EST"),t.value.chatConfig.offlineBehavior||(t.value.chatConfig.offlineBehavior="always-on"),t.value.chatConfig.offlineMessage||(t.value.chatConfig.offlineMessage=""),t.value.chatConfig.transferConditions||(t.value.chatConfig.transferConditions=""),t.value.chatConfig.transferDestination||(t.value.chatConfig.transferDestination="support"),t.value.chatConfig.handoffMessage||(t.value.chatConfig.handoffMessage="Let me connect you with a team member...")),t.value.agentType==="phone"&&(t.value.voiceConfig||(t.value.voiceConfig={}),t.value.voiceConfig.holdMessage||(t.value.voiceConfig.holdMessage="Please hold while I look that up..."),t.value.voiceConfig.voicemailGreeting||(t.value.voiceConfig.voicemailGreeting="Please leave a message..."),t.value.voiceConfig.transferConditions||(t.value.voiceConfig.transferConditions=""),t.value.voiceConfig.transferDestination||(t.value.voiceConfig.transferDestination="support"),t.value.voiceConfig.customTransferNumber||(t.value.voiceConfig.customTransferNumber=""),t.value.voiceConfig.transferMessage||(t.value.voiceConfig.transferMessage="Let me transfer you...")))}function g(){xe&&clearTimeout(xe),j.value=!0,se.value=!1,xe=setTimeout(()=>{Y()},800)}function Y(){const l=JSON.parse(localStorage.getItem("daart-agents")||"[]"),e=l.findIndex(m=>m.id===t.value.id);e!==-1&&(l[e]={...t.value},localStorage.setItem("daart-agents",JSON.stringify(l)),j.value=!1,se.value=!0,setTimeout(()=>{se.value=!1},2e3))}function as(l){ue.value=l;const e=document.getElementById(l);e&&me.value&&e.scrollIntoView({behavior:"smooth",block:"start"})}function we(){O.value=!1,k.value={name:"",prompt:"",keywords:"",passCriteria:"contains-all"}}function os(){if(!k.value.name||!k.value.prompt)return;const l={id:`test-${Date.now()}`,name:k.value.name,prompt:k.value.prompt,expectedKeywords:k.value.keywords.split(",").map(e=>e.trim()).filter(e=>e.length>0),passCriteria:k.value.passCriteria};t.value.testScenarios||(t.value.testScenarios=[]),t.value.testScenarios.push(l),Y(),we()}async function Fe(l){q.value[l.id]=!0,await new Promise(C=>setTimeout(C,1e3));const e=ds(l),m=is(e,l.expectedKeywords);A.value[l.id]={response:e,passed:m.missingKeywords.length===0,matchedKeywords:m.matchedKeywords,missingKeywords:m.missingKeywords},q.value[l.id]=!1}async function ls(){if(!(!t.value.testScenarios||t.value.testScenarios.length===0)){H.value=!0;for(const l of t.value.testScenarios)await Fe(l),await new Promise(e=>setTimeout(e,500));H.value=!1}}function is(l,e){const m=l.toLowerCase(),C=[],y=[];for(const E of e)m.includes(E.toLowerCase())?C.push(E):y.push(E);return{matchedKeywords:C,missingKeywords:y}}function ds(l){const e=Math.random();if(e<.6){const m=l.expectedKeywords.join(", ");return`Based on your question about "${l.prompt}", here's what I can tell you: ${m}. Let me know if you need more details!`}else return e<.8?`I can help with that. Here's some information: ${l.expectedKeywords.slice(0,Math.ceil(l.expectedKeywords.length/2)).join(", ")}. Is there anything else?`:"Thank you for your question. I'd be happy to help you with that. Could you provide more details?"}function Ke(){Y(),W.push(`/agents-v2/${t.value.id}/deploy`)}function us(){t.value&&(x.value=Math.random()>.7?Math.floor(Math.random()*3)+1:0,F.value=Math.random()>.8?Math.floor(Math.random()*2)+1:0,te.value=!0)}function Ae(){te.value=!1,x.value=0,F.value=0}function rs(){t.value&&(t.value.status="draft",t.value.hasBeenPublished=!0,t.value.lastUnpublishedDate=new Date().toISOString(),Y(),te.value=!1,x.value=0,F.value=0)}function cs(){R.value=!R.value}function vs(){t.value&&(R.value=!1,U.value=!0)}function $e(){U.value=!1}function ps(){if(!t.value)return;const l={...t.value,id:Date.now().toString(),name:`${t.value.name} (Copy)`,status:"draft",conversations:0,createdAt:new Date().toISOString(),lastUpdated:"Just now",needsWizard:!1},e=JSON.parse(localStorage.getItem("daart-agents")||"[]");e.push(l),localStorage.setItem("daart-agents",JSON.stringify(e)),U.value=!1,W.push(`/agents-v2/${l.id}/build`)}function gs(){if(!t.value)return;const l={...t.value,id:Date.now().toString(),name:`${t.value.name} (Voice)`,agentType:"phone",channels:["phone"],status:"draft",conversations:0,createdAt:new Date().toISOString(),lastUpdated:"Just now",needsWizard:!1,phoneNumber:"+1 (555) 000-0000",voiceType:"nova",language:"en-US",greetingMessage:"",speechSpeed:1},e=JSON.parse(localStorage.getItem("daart-agents")||"[]");e.push(l),localStorage.setItem("daart-agents",JSON.stringify(e)),U.value=!1,W.push(`/agents-v2/${l.id}/build`)}function ms(){if(!t.value)return;const l={...t.value,id:Date.now().toString(),name:`${t.value.name} (Chat)`,agentType:"chat",channels:["web-chat"],status:"draft",conversations:0,createdAt:new Date().toISOString(),lastUpdated:"Just now",needsWizard:!1,widgetPosition:"bottom-right",primaryColor:"#000000",displayName:t.value.name,widgetSize:"standard",smsEnabled:!1},e=JSON.parse(localStorage.getItem("daart-agents")||"[]");e.push(l),localStorage.setItem("daart-agents",JSON.stringify(e)),U.value=!1,W.push(`/agents-v2/${l.id}/build`)}function hs(){t.value&&(R.value=!1,K.value=!0)}function fs(){if(!t.value)return;const l=JSON.parse(localStorage.getItem("daart-agents")||"[]"),e=l.findIndex(m=>m.id===t.value.id);if(e!==-1)if(l.splice(e,1),localStorage.setItem("daart-agents",JSON.stringify(l)),K.value=!1,l.length>0){const m=l[0],C=m.status==="live"?"monitor":"build";W.push(`/agents-v2/${m.id}/${C}`)}else W.push("/onboarding-v2")}function Pe(){K.value=!1}function ys(l){ne.value=l,re.value="",B.value=null,Q.value=!0}function Le(){Q.value=!1,ne.value=null,re.value="",B.value=null}function bs(){ne.value&&(ae.value=!0,B.value=null,setTimeout(()=>{B.value={status:"success",output:`Skill "${ne.value.name}" executed successfully with test input.`,logs:["[00:00.123] Skill execution started","[00:00.245] Validating input parameters","[00:00.367] Connecting to external service","[00:00.489] Processing request","[00:00.612] Response received","[00:00.734] Skill execution completed"]},ae.value=!1},1500))}function ws(l){const e={support:`Company Information:
- Company Name: [Your Company]
- Hours: Monday-Friday, 9 AM - 5 PM EST
- Support Email: support@yourcompany.com
- Support Phone: +1 (555) 123-4567

Policies:
- Returns: 30-day money-back guarantee on all products
- Shipping: Free shipping on orders over $50
- Response Time: We aim to respond within 24 hours

Common Questions:
- How do I track my order? Check your email for tracking info or contact support
- What's your return policy? 30 days, no questions asked
- Do you offer technical support? Yes, via email and phone during business hours`,sales:`Company Information:
- Company Name: [Your Company]
- Industry: [Your Industry]
- Website: www.yourcompany.com

Products/Services:
- Starter Plan: $29/month - Perfect for individuals
- Pro Plan: $99/month - For growing teams
- Enterprise: Custom pricing - For large organizations

Key Features:
- Feature 1: [Description]
- Feature 2: [Description]
- Feature 3: [Description]

Sales Process:
- Free trial available: 14 days, no credit card required
- Demo scheduling: Available Monday-Friday
- Custom quotes: Contact sales@yourcompany.com`,hr:`Company Policies:
- PTO Policy: 15 days per year, accrues monthly
- Sick Leave: 10 days per year
- Holidays: 10 paid holidays per year
- Work Hours: 9 AM - 5 PM, flexible remote options available

Benefits:
- Health Insurance: Full coverage, company pays 80%
- 401(k): Company matches up to 5%
- Professional Development: $1,000 annual budget

Resources:
- Employee Portal: portal.yourcompany.com
- HR Contact: hr@yourcompany.com
- IT Support: it@yourcompany.com`,orders:`Order Information:
- Processing Time: 1-2 business days
- Shipping Time: 3-5 business days (standard)
- Express Shipping: 1-2 business days (additional $15)
- International Shipping: 7-14 business days

Tracking:
- Tracking numbers sent via email when order ships
- Track at: www.yourcompany.com/track
- Questions: orders@yourcompany.com

Returns:
- Return Window: 30 days from delivery
- Return Process: Visit www.yourcompany.com/returns
- Refund Time: 5-7 business days after we receive the item
- Return Shipping: Free for defective items, $5 fee otherwise`,scheduling:`Appointment Information:
- Business Name: [Your Business]
- Location: [Your Address]
- Phone: +1 (555) 123-4567

Available Services:
- Service 1: 30 minutes - $50
- Service 2: 60 minutes - $100
- Service 3: 90 minutes - $150

Booking:
- Online booking: www.yourcompany.com/book
- Phone booking: Call during business hours
- Cancellation policy: 24 hours notice required
- Rescheduling: Free if done 24 hours in advance

Hours:
- Monday-Friday: 9 AM - 6 PM
- Saturday: 10 AM - 4 PM
- Sunday: Closed`,general:`Company Information:
- Business Name: [Your Business Name]
- Address: [Your Address]
- Phone: +1 (555) 123-4567
- Email: info@yourcompany.com
- Website: www.yourcompany.com

Hours:
- Monday-Friday: 9 AM - 5 PM
- Saturday: 10 AM - 2 PM
- Sunday: Closed

Services:
- Service 1: [Description]
- Service 2: [Description]
- Service 3: [Description]

FAQs:
- How can I contact you? Phone, email, or visit our website
- Where are you located? [Your Address]
- Do you offer consultations? Yes, free 15-minute consultations available`};return e[l]||e.general}function Oe(){if(!J.value.trim()||X.value)return;le.value.push({role:"user",content:J.value});const l=J.value;J.value="",X.value=!0,Ne.value=!0,setTimeout(()=>{ie.value&&(ie.value.scrollTop=ie.value.scrollHeight)},50),setTimeout(()=>{const e=Ss(l);le.value.push({role:"assistant",content:e}),X.value=!1,setTimeout(()=>{ie.value&&(ie.value.scrollTop=ie.value.scrollHeight)},50)},1500)}function qe(){le.value=[],J.value="",X.value=!1,Ne.value=!1}function ks(){if(c.value.trim()){try{new URL(c.value)}catch{alert("Please enter a valid URL");return}if(h.value.includes(c.value)){alert("This URL has already been added");return}h.value.push(c.value),c.value="",g()}}function Cs(l){h.value.splice(l,1),g()}function Ss(l){var P;const e=l.toLowerCase(),m=L.value||"",C=((P=t.value)==null?void 0:P.problemType)||"general";function y(p,he=2){const de=m.split(`
`);for(let Z=0;Z<de.length;Z++){const Ce=de[Z].toLowerCase();if(p.some(pe=>Ce.includes(pe))){const pe=Math.max(0,Z-he),n=Math.min(de.length,Z+he+1);return de.slice(pe,n).filter(S=>S.trim()&&!S.trim().startsWith("#")).join(" ").replace(/\s+/g," ").trim()}}return null}if(e.includes("hour")||e.includes("open")||e.includes("time")||e.includes("when")){const p=y(["hours:","open:","monday","time:"]);if(p)return`${p} Is there anything else I can help you with?`}if(e.includes("return")||e.includes("refund")){const p=y(["return","refund","money-back"]);if(p)return`${p} Would you like me to help you start a return?`}if(e.includes("pricing")||e.includes("cost")||e.includes("price")||e.includes("how much")){const p=y(["pricing:","price:","cost:","$","plans:"]);if(p)return`${p} Would you like more details about any specific option?`}if(e.includes("contact")||e.includes("email")||e.includes("phone")||e.includes("call")){const p=y(["email:","phone:","contact:"]);if(p)return`${p} How else can I assist you?`}if(e.includes("ship")||e.includes("delivery")){const p=y(["shipping:","delivery:","ship"]);if(p)return`${p} Do you have any other questions?`}if(e.includes("benefit")||e.includes("insurance")||e.includes("401k")){const p=y(["benefits:","insurance:","401k:","health"]);if(p)return`${p} Would you like more information about any specific benefit?`}if(e.includes("pto")||e.includes("time off")||e.includes("vacation")||e.includes("leave")){const p=y(["pto:","vacation:","time off:","leave:"]);if(p)return`${p} Is there anything else you'd like to know?`}if(e.includes("product")||e.includes("service")||e.includes("offer")){const p=y(["products:","services:","offering:"]);if(p)return`${p} Would you like to learn more about any of these?`}if(e.includes("book")||e.includes("appointment")||e.includes("schedule")){const p=y(["booking:","appointment:","schedule:","available:"]);return p?`${p} What date and time work best for you?`:"I can help you book an appointment. What date and time work best for you?"}if(e.includes("track")||e.includes("order")||e.includes("package")){const p=y(["tracking:","order:","package:"]);return p?`${p} Do you need help with anything else?`:"I can help you track your order. Could you provide your order number or email address?"}return e.includes("help")||e.includes("support")||e.includes("problem")?"I'm here to help! Can you tell me more about what you need assistance with?":{support:"I'd be happy to help you with that. Based on our policies and information, can you provide more details about your question?",sales:"That's a great question! Based on what we offer, I can provide more information. Would you like to schedule a call with our team?",hr:"I can help with that. Let me know if you need information about benefits, time off, or other HR topics.",orders:"I can help you with your order. Could you provide your order number or email address?",scheduling:"I can help you book an appointment. What date and time work best for you?",general:"Thanks for reaching out! How can I assist you today?"}[C]||"Thank you for your message. How can I help you further?"}function Je(){I.value<ve.value?(I.value++,Y()):Ye()}function Ts(){I.value>1&&I.value--}function Ye(){if(oe.value=!0,V.value=!1,L.value.trim()){const l={content:L.value,updatedAt:new Date().toISOString()};localStorage.setItem("daart-org-knowledge",JSON.stringify(l))}t.value&&(t.value.needsWizard=!1),Y(),W.push(`/agents-v2/${t.value.id}/build`)}function Ms(){V.value=!1,oe.value=!0,t.value&&(t.value.needsWizard=!1),Y()}function xs(){V.value?(V.value=!1,oe.value=!0,t.value&&(t.value.needsWizard=!1),Y()):(V.value=!0,oe.value=!1,I.value=1)}function Is(){ce.value=!0,w.value={name:"",description:"",mcpServer:"",parameters:"",isEditing:!1,editingId:null}}function _s(l){ce.value=!0,w.value={name:l.name,description:l.description,mcpServer:l.mcpServer||"",parameters:l.parameters||"",isEditing:!0,editingId:l.id}}function ke(){ce.value=!1}function As(){if(t.value){if(!w.value.name.trim()){alert("Skill name is required");return}if(w.value.isEditing){const l=t.value.skills.findIndex(e=>e.id===w.value.editingId);l>-1&&(t.value.skills[l]={...t.value.skills[l],name:w.value.name,description:w.value.description,mcpServer:w.value.mcpServer||null,parameters:w.value.parameters||null})}else{const l={id:`skill-${Date.now()}`,name:w.value.name,description:w.value.description,enabled:!0,mcpServer:w.value.mcpServer||null,parameters:w.value.parameters||null};t.value.skills||(t.value.skills=[]),t.value.skills.push(l)}Y(),ke()}}function Ge(l){if(!l)return"Never";const e=new Date(l),C=new Date-e,y=Math.floor(C/6e4),E=Math.floor(C/36e5),P=Math.floor(C/864e5);return y<1?"just now":y<60?`${y} minute${y>1?"s":""} ago`:E<24?`${E} hour${E>1?"s":""} ago`:P<7?`${P} day${P>1?"s":""} ago`:e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}return Ps(()=>{Ee()}),Me(()=>f.params.id,()=>{Ee()}),Me(V,l=>{l?document.body.classList.add("wizard-mode-active"):document.body.classList.remove("wizard-mode-active")},{immediate:!0}),Ds(()=>{document.body.classList.remove("wizard-mode-active")}),typeof window<"u"&&Me(()=>me.value,l=>{l&&l.addEventListener("scroll",()=>{const e=Re.value;for(const m of e){const C=document.getElementById(m.id);if(C){const y=C.getBoundingClientRect();if(y.top>=0&&y.top<200){ue.value=m.id;break}}}})}),(l,e)=>{var C,y,E,P,p,he,de,Z,Ce,pe;const m=Ws("router-link");return a(),o("div",dt,[t.value?(a(),o("div",rt,[s("div",ct,[s("div",vt,[s("h1",pt,i(t.value.name),1),s("div",gt,[s("span",{class:M(["meta-badge",t.value.status])},i(t.value.status==="live"?"Live":"Draft"),3),e[57]||(e[57]=s("span",{class:"meta-divider"},"¬∑",-1)),s("span",mt,i(Ie.value),1),_e.value.length>0?(a(),o("span",ht,"¬∑")):d("",!0),(a(!0),o(D,null,N(_e.value,(n,S)=>(a(),o("span",{key:S,class:"channel-badge"},i(n),1))),128)),j.value?(a(),o("span",ft,"¬∑")):d("",!0),j.value?(a(),o("span",yt,"Saving...")):se.value?(a(),o("span",bt,"¬∑")):se.value?(a(),o("span",wt,"Saved")):d("",!0)])]),s("div",kt,[t.value&&!V.value?(a(),o("div",Ct,[s("button",{class:"btn-icon-only",onClick:cs,title:"Agent actions"},[...e[58]||(e[58]=[s("span",{class:"three-dots"},"‚ãÆ",-1)])]),R.value?(a(),o("div",St,[s("button",{class:"dropdown-action",onClick:vs}," Duplicate Agent "),s("button",{class:"dropdown-action delete",onClick:hs}," Delete Agent ")])):d("",!0)],512)):d("",!0),t.value.status==="draft"&&!V.value?(a(),o("button",{key:1,class:"btn-primary",onClick:Ke}," Review & Deploy ")):t.value.status==="live"?(a(),o("button",{key:2,class:"btn-secondary",onClick:us}," Unpublish ")):d("",!0)])]),s("div",Tt,[be.value==="build"?(a(),o("div",{key:0,class:M(["build-layout",{"wizard-active":V.value}])},[V.value?(a(),o("div",Mt,[s("div",xt,[s("div",It,[s("div",_t," Step "+i(I.value)+" of "+i(ve.value),1),s("div",At,[s("div",{class:"wizard-progress-fill",style:Us({width:I.value/ve.value*100+"%"})},null,4)])]),s("button",{class:"wizard-skip",onClick:Ms},"Skip Wizard")]),s("div",$t,[I.value===1?(a(),o("div",Pt,[s("div",Dt,[e[66]||(e[66]=s("h2",null,"Test your agent",-1)),e[67]||(e[67]=s("p",{class:"wizard-step-description"},"Try it now to see how it responds",-1)),s("div",Wt,[e[59]||(e[59]=s("label",null,"Agent Name",-1)),v(s("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>t.value.name=n),onInput:g,type:"text",class:"input-field",placeholder:"e.g., Customer Support Agent"},null,544),[[b,t.value.name]])]),s("div",Ut,[e[62]||(e[62]=s("label",null,"Primary Channel",-1)),s("div",Vt,[e[61]||(e[61]=s("div",{class:"channel-toggle-item active"},[s("div",{class:"channel-toggle-content"},[s("div",{class:"channel-toggle-name"},"Website Chat"),s("div",{class:"channel-toggle-status"},"Enabled by default")])],-1)),s("div",{class:M(["channel-toggle-item clickable",{active:(y=(C=t.value.channels)==null?void 0:C.voice)==null?void 0:y.enabled}]),onClick:e[1]||(e[1]=n=>{t.value.channels.voice.enabled=!t.value.channels.voice.enabled,g()})},[s("div",zt,[e[60]||(e[60]=s("div",{class:"channel-toggle-name"},"Voice (Phone)",-1)),s("div",Nt,i((P=(E=t.value.channels)==null?void 0:E.voice)!=null&&P.enabled?"Enabled":"Click to enable"),1)])],2)]),e[63]||(e[63]=s("div",{class:"hint"},"Additional channels like SMS can be enabled later in the BUILD tab",-1))]),s("div",Rt,[s("div",{class:"collapsible-header",onClick:e[2]||(e[2]=n=>$.value=!$.value)},[e[64]||(e[64]=s("label",{style:{margin:"0",cursor:"pointer"}},"Behavior Instructions",-1)),s("span",Bt,i($.value?"‚àí":"+"),1)]),$.value?(a(),o("div",Ht,[v(s("textarea",{"onUpdate:modelValue":e[3]||(e[3]=n=>t.value.instructions=n),onInput:e[4]||(e[4]=n=>{qe()}),rows:"8",class:"input-field",placeholder:"Describe how your agent should respond..."},null,544),[[b,t.value.instructions]]),e[65]||(e[65]=s("div",{class:"hint"},"Pre-filled based on your template. Edit to customize behavior.",-1))])):d("",!0)]),s("div",{class:"wizard-step-navigation"},[s("button",{class:"btn-primary btn-block",onClick:Je}," Next: Add Knowledge ‚Üí ")])]),s("div",Et,[s("div",Ft,[s("div",Kt,[e[68]||(e[68]=s("h3",null,"Try it now!",-1)),le.value.length>0?(a(),o("button",{key:0,class:"btn-reset-chat",onClick:qe},"Reset Chat")):d("",!0)]),e[72]||(e[72]=s("div",{class:"test-info-notice"},[s("div",{class:"notice-icon"},"‚ÑπÔ∏è"),s("div",{class:"notice-text"},[s("strong",null,"Using template data:"),T(" Responses are based on placeholder info. Customize this data in the next step to match your business. ")])],-1)),s("div",{class:"test-chat-container",ref_key:"testChatContainer",ref:ie},[le.value.length===0?(a(),o("div",Lt,[...e[69]||(e[69]=[s("p",null,"üëã Test your agent by sending a message",-1)])])):d("",!0),(a(!0),o(D,null,N(le.value,(n,S)=>(a(),o("div",{key:S,class:M(["test-message",n.role])},[s("div",Ot,i(n.content),1)],2))),128)),X.value?(a(),o("div",qt,[...e[70]||(e[70]=[s("div",{class:"message-bubble thinking"},[s("span",{class:"typing-dot"}),s("span",{class:"typing-dot"}),s("span",{class:"typing-dot"})],-1)])])):d("",!0)],512),s("div",Jt,[v(s("input",{"onUpdate:modelValue":e[5]||(e[5]=n=>J.value=n),onKeyup:Xe(Oe,["enter"]),type:"text",class:"test-input",placeholder:"Type your message...",disabled:X.value},null,40,Yt),[[b,J.value]]),s("button",{onClick:Oe,class:"btn-send",disabled:!J.value.trim()||X.value}," Send ",8,Gt)]),s("div",jt,[e[71]||(e[71]=s("p",{class:"suggestions-label"},"Try asking:",-1)),(a(!0),o(D,null,N(es.value,(n,S)=>(a(),o("button",{key:S,class:"suggestion-button",onClick:Se=>J.value=n,disabled:X.value},i(n),9,Qt))),128))])])])])):d("",!0),I.value===2?(a(),o("div",Xt,[e[79]||(e[79]=s("h2",null,[T("Add knowledge "),s("span",{class:"optional-badge"},"(Optional)")],-1)),e[80]||(e[80]=s("p",{class:"wizard-step-description"},"Add information your agent can reference when answering questions",-1)),s("div",Zt,[s("button",{class:M(["knowledge-tab",{active:r.value==="text"}]),onClick:e[6]||(e[6]=n=>r.value="text")}," Text Content ",2),s("button",{class:M(["knowledge-tab",{active:r.value==="documents"}]),onClick:e[7]||(e[7]=n=>r.value="documents")}," Documents ",2),s("button",{class:M(["knowledge-tab",{active:r.value==="website"}]),onClick:e[8]||(e[8]=n=>r.value="website")}," Website ",2)]),r.value==="text"?(a(),o("div",en,[s("div",sn,[e[73]||(e[73]=s("label",null,"Knowledge Base Content",-1)),v(s("textarea",{"onUpdate:modelValue":e[9]||(e[9]=n=>L.value=n),onInput:g,rows:"10",class:"input-field knowledge-textarea",placeholder:`Add your company information, FAQs, policies, product details...

Example:
Company: Acme Inc.
Support Hours: Mon-Fri, 9 AM - 5 PM EST

Products:
- Widget Pro: Enterprise solution for businesses
- Widget Lite: Perfect for individual users

Policies:
- Returns: 30-day money-back guarantee
- Shipping: Free on orders over $50`},null,544),[[b,L.value]]),e[74]||(e[74]=s("div",{class:"hint"},"Pre-filled with template data. Edit to match your business.",-1))])])):d("",!0),r.value==="documents"?(a(),o("div",tn,[...e[75]||(e[75]=[ee('<div class="upload-area" data-v-4e40c860><div class="upload-icon" data-v-4e40c860>üìÑ</div><h3 data-v-4e40c860>Upload documents</h3><p data-v-4e40c860>Add PDFs, Word docs, or text files for your agent to learn from</p><button class="btn-secondary" data-v-4e40c860>Choose Files</button><div class="upload-hint" data-v-4e40c860>Supported: PDF, DOCX, TXT, CSV (Max 10MB each)</div></div><div class="feature-note" data-v-4e40c860><p data-v-4e40c860><strong data-v-4e40c860>Note:</strong> Document upload will be functional after completing the wizard. For now, you can add text content or website URLs.</p></div>',2)])])):d("",!0),r.value==="website"?(a(),o("div",nn,[s("div",an,[e[76]||(e[76]=s("label",null,"Website URL",-1)),v(s("input",{"onUpdate:modelValue":e[10]||(e[10]=n=>c.value=n),type:"url",class:"input-field",placeholder:"https://yourcompany.com/help"},null,512),[[b,c.value]]),e[77]||(e[77]=s("div",{class:"hint"},"We'll automatically sync content from this website",-1))]),s("button",{class:"btn-secondary",onClick:ks,disabled:!c.value.trim()}," Add Website ",8,on),h.value.length>0?(a(),o("div",ln,[e[78]||(e[78]=s("h4",null,"Added Websites",-1)),(a(!0),o(D,null,N(h.value,(n,S)=>(a(),o("div",{key:S,class:"website-item"},[s("span",dn,i(n),1),s("button",{class:"btn-remove",onClick:Se=>Cs(S)},"√ó",8,un)]))),128))])):d("",!0)])):d("",!0),e[81]||(e[81]=s("div",{class:"wizard-skip-note"},[s("p",null,[s("strong",null,"Skip for now?"),T(" You can add more knowledge later from the Knowledge section.")])],-1))])):d("",!0),I.value===3?(a(),o("div",rn,[e[89]||(e[89]=s("h2",null,"Customize appearance",-1)),e[90]||(e[90]=s("p",{class:"wizard-step-description"},"Make the chat widget match your brand",-1)),s("div",cn,[e[82]||(e[82]=s("label",null,"Welcome Message",-1)),v(s("input",{"onUpdate:modelValue":e[11]||(e[11]=n=>t.value.channels.webChat.welcomeMessage=n),onInput:g,type:"text",class:"input-field",placeholder:"Hi! How can I help you today?"},null,544),[[b,t.value.channels.webChat.welcomeMessage]]),e[83]||(e[83]=s("div",{class:"hint"},"First message customers see when opening the chat",-1))]),s("div",vn,[e[86]||(e[86]=s("label",null,"Widget Position",-1)),s("div",pn,[s("div",{class:M(["position-option",{selected:t.value.channels.webChat.widgetPosition==="bottom-right"}]),onClick:e[12]||(e[12]=n=>{t.value.channels.webChat.widgetPosition="bottom-right",g()})},[...e[84]||(e[84]=[s("div",{class:"position-preview"},[s("div",{class:"preview-widget bottom-right"})],-1),s("div",{class:"position-label"},"Bottom Right",-1)])],2),s("div",{class:M(["position-option",{selected:t.value.channels.webChat.widgetPosition==="bottom-left"}]),onClick:e[13]||(e[13]=n=>{t.value.channels.webChat.widgetPosition="bottom-left",g()})},[...e[85]||(e[85]=[s("div",{class:"position-preview"},[s("div",{class:"preview-widget bottom-left"})],-1),s("div",{class:"position-label"},"Bottom Left",-1)])],2)])]),s("div",gn,[e[87]||(e[87]=s("label",null,"Primary Color",-1)),s("div",mn,[v(s("input",{"onUpdate:modelValue":e[14]||(e[14]=n=>t.value.channels.webChat.primaryColor=n),onInput:g,type:"color",class:"color-input"},null,544),[[b,t.value.channels.webChat.primaryColor]]),v(s("input",{"onUpdate:modelValue":e[15]||(e[15]=n=>t.value.channels.webChat.primaryColor=n),onInput:g,type:"text",class:"input-field color-text",placeholder:"#6366f1"},null,544),[[b,t.value.channels.webChat.primaryColor]])]),e[88]||(e[88]=s("div",{class:"hint"},"Used for the chat widget and messages",-1))])])):d("",!0),I.value>ve.value?(a(),o("div",hn,[...e[91]||(e[91]=[ee('<h2 data-v-4e40c860>You&#39;re all set!</h2><p class="wizard-step-description" data-v-4e40c860>Your agent is ready to test. Let&#39;s make sure it works as expected.</p><div class="wizard-next-steps" data-v-4e40c860><div class="next-step-card" data-v-4e40c860><div class="step-number" data-v-4e40c860>1</div><div class="step-content" data-v-4e40c860><h4 data-v-4e40c860>Test your agent</h4><p data-v-4e40c860>Create test scenarios and validate responses</p></div></div><div class="next-step-card" data-v-4e40c860><div class="step-number" data-v-4e40c860>2</div><div class="step-content" data-v-4e40c860><h4 data-v-4e40c860>Deploy when ready</h4><p data-v-4e40c860>Review configuration and publish to go live</p></div></div></div>',3)])])):d("",!0)]),I.value!==1?(a(),o("div",fn,[I.value>1?(a(),o("button",{key:0,class:"btn-secondary",onClick:Ts}," ‚Üê Back ")):d("",!0),I.value<=ve.value?(a(),o("button",{key:1,class:"btn-primary",onClick:Je},i(I.value===ve.value?"Complete Setup ‚Üí":"Next ‚Üí"),1)):(a(),o("button",{key:2,class:"btn-primary",onClick:Ye}," Go to Testing ‚Üí "))])):d("",!0)])):(a(),o(D,{key:1},[s("div",yn,[(a(!0),o(D,null,N(Re.value,n=>(a(),o("div",{key:n.id,class:M(["section-nav-item",{active:ue.value===n.id}]),onClick:S=>as(n.id)},i(n.label),11,bn))),128))]),s("div",{class:"build-main",ref_key:"buildMainContent",ref:me},[t.value.status==="draft"&&t.value.needsWizard!==!1?(a(),o("div",wn,[e[92]||(e[92]=s("span",null,"Need help getting started?",-1)),s("button",{class:"btn-link",onClick:xs},"Switch to Wizard Mode")])):d("",!0),s("div",kn,[e[96]||(e[96]=s("h3",null,"Configuration",-1)),s("div",Cn,[e[93]||(e[93]=s("label",null,"Agent Name",-1)),v(s("input",{"onUpdate:modelValue":e[16]||(e[16]=n=>t.value.name=n),onInput:g,type:"text",class:"input-field"},null,544),[[b,t.value.name]])]),s("div",Sn,[e[94]||(e[94]=s("label",null,"Behavior Instructions",-1)),v(s("textarea",{"onUpdate:modelValue":e[17]||(e[17]=n=>t.value.instructions=n),onInput:g,rows:"6",class:"input-field"},null,544),[[b,t.value.instructions]]),e[95]||(e[95]=s("div",{class:"hint"},"Guide how your agent should respond to customers",-1))])]),s("div",Tn,[e[105]||(e[105]=s("h3",null,"Knowledge Base",-1)),e[106]||(e[106]=s("p",{class:"section-intro"},"Select which knowledge sources this agent can access",-1)),s("div",Mn,[e[98]||(e[98]=s("p",{class:"knowledge-intro"}," Knowledge is managed centrally. Select the sources you want this agent to use. ",-1)),De(m,{to:"/knowledge-v2",class:"btn-secondary"},{default:We(()=>[...e[97]||(e[97]=[T(" Manage Knowledge Sources ‚Üí ",-1)])]),_:1})]),s("div",xn,[z.value.textContent?(a(),o("div",In,[s("div",_n,[s("label",An,[v(s("input",{type:"checkbox","onUpdate:modelValue":e[18]||(e[18]=n=>t.value.knowledgeSources.textContent=n),onChange:g},null,544),[[G,t.value.knowledgeSources.textContent]]),e[99]||(e[99]=s("span",{class:"checkbox-text"},"Text Content",-1))])]),s("div",$n,[s("span",Pn,i(z.value.textContent.size),1)])])):d("",!0),z.value.documents.length>0?(a(),o("div",Dn,[s("div",Wn,[s("label",Un,[v(s("input",{type:"checkbox","onUpdate:modelValue":e[19]||(e[19]=n=>t.value.knowledgeSources.documents=n),onChange:g},null,544),[[G,t.value.knowledgeSources.documents]]),e[100]||(e[100]=s("span",{class:"checkbox-text"},"Documents",-1))])]),s("div",Vn,[s("span",zn,i(z.value.documents.length)+" "+i(z.value.documents.length===1?"file":"files"),1)])])):d("",!0),z.value.websites.length>0?(a(),o("div",Nn,[s("div",Rn,[s("label",Bn,[v(s("input",{type:"checkbox","onUpdate:modelValue":e[20]||(e[20]=n=>t.value.knowledgeSources.websites=n),onChange:g},null,544),[[G,t.value.knowledgeSources.websites]]),e[101]||(e[101]=s("span",{class:"checkbox-text"},"Website Content",-1))])]),s("div",Hn,[s("span",En,i(z.value.websites.length)+" "+i(z.value.websites.length===1?"site":"sites"),1)])])):d("",!0),z.value.conversations.enabled?(a(),o("div",Fn,[s("div",Kn,[s("label",Ln,[v(s("input",{type:"checkbox","onUpdate:modelValue":e[21]||(e[21]=n=>t.value.knowledgeSources.conversations=n),onChange:g},null,544),[[G,t.value.knowledgeSources.conversations]]),e[102]||(e[102]=s("span",{class:"checkbox-text"},"Conversation Insights",-1))])]),s("div",On,[s("span",qn,i(z.value.conversations.count)+" conversations",1)])])):d("",!0),ts.value?d("",!0):(a(),o("div",Jn,[e[104]||(e[104]=s("p",null,"No knowledge sources available yet.",-1)),De(m,{to:"/knowledge-v2",class:"link"},{default:We(()=>[...e[103]||(e[103]=[T("Add knowledge sources ‚Üí",-1)])]),_:1})]))])]),s("div",Yn,[e[109]||(e[109]=s("h3",null,"Skills",-1)),s("div",Gn,[t.value.skills&&t.value.skills.length>0?(a(),o("div",jn,[(a(!0),o(D,null,N(t.value.skills,n=>(a(),o("div",{key:n.id,class:M(["skill-item",{"needs-config":!n.mcpServer}])},[s("div",Qn,[s("div",Xn,[s("div",Zn,i(n.name),1),n.mcpServer?d("",!0):(a(),o("span",ea,"Needs Configuration"))]),s("div",sa,i(n.description),1),n.mcpServer?(a(),o("div",ta," Connected: "+i(n.mcpServer),1)):d("",!0)]),s("div",na,[n.mcpServer?(a(),o("button",{key:1,class:"btn-secondary btn-sm",onClick:S=>ys(n)},"Test",8,oa)):(a(),o("button",{key:0,class:"btn-secondary btn-sm",onClick:S=>_s(n)},"Configure",8,aa)),s("label",la,[v(s("input",{type:"checkbox","onUpdate:modelValue":S=>n.enabled=S,onChange:g},null,40,ia),[[G,n.enabled]]),e[107]||(e[107]=s("span",{class:"toggle-slider"},null,-1))])])],2))),128))])):(a(),o("div",da,[...e[108]||(e[108]=[s("div",{class:"empty-title"},"No Skills Configured",-1),s("p",{class:"empty-desc"},"Skills extend your agent's capabilities beyond answering questions. Add skills to perform actions like checking order status, booking appointments, or looking up account information.",-1)])])),s("button",{class:"btn-add",onClick:Is},"+ Add Skill")])]),s("div",ua,[e[136]||(e[136]=s("h3",null,"Channels & Integrations",-1)),e[137]||(e[137]=s("p",{class:"section-intro"},"Enable and configure where your agent is available",-1)),s("div",ra,[s("div",ca,[e[111]||(e[111]=s("div",{class:"channel-info"},[s("h4",null,"Web Chat"),s("p",{class:"channel-description"},"Embedded chat widget on your website")],-1)),s("label",va,[v(s("input",{type:"checkbox","onUpdate:modelValue":e[22]||(e[22]=n=>t.value.channels.webChat.enabled=n),onChange:g},null,544),[[G,t.value.channels.webChat.enabled]]),e[110]||(e[110]=s("span",{class:"toggle-slider"},null,-1))])]),t.value.channels.webChat.enabled?(a(),o("div",pa,[s("div",ga,[s("div",{class:"collapsible-header",onClick:e[23]||(e[23]=n=>ns("chatMessages"))},[e[112]||(e[112]=s("span",{class:"section-title"},"Messages & Greetings",-1)),s("span",{class:M(["chevron",{expanded:ye.value.chatMessages}])},"‚Ä∫",2)]),ye.value.chatMessages?(a(),o("div",ma,[s("div",ha,[e[113]||(e[113]=s("label",null,"Welcome Message",-1)),v(s("textarea",{"onUpdate:modelValue":e[24]||(e[24]=n=>t.value.channels.webChat.welcomeMessage=n),onInput:g,rows:"2",class:"input-field",placeholder:"Hi! How can I help you today?"},null,544),[[b,t.value.channels.webChat.welcomeMessage]]),e[114]||(e[114]=s("div",{class:"hint"},"First message when the chat widget opens",-1))]),s("div",fa,[e[116]||(e[116]=s("label",null,"Widget Position",-1)),v(s("select",{"onUpdate:modelValue":e[25]||(e[25]=n=>t.value.channels.webChat.widgetPosition=n),onChange:g,class:"input-field"},[...e[115]||(e[115]=[s("option",{value:"bottom-right"},"Bottom Right",-1),s("option",{value:"bottom-left"},"Bottom Left",-1)])],544),[[fe,t.value.channels.webChat.widgetPosition]])]),s("div",ya,[e[117]||(e[117]=s("label",null,"Primary Color",-1)),s("div",ba,[v(s("input",{"onUpdate:modelValue":e[26]||(e[26]=n=>t.value.channels.webChat.primaryColor=n),onInput:g,type:"color",class:"color-input"},null,544),[[b,t.value.channels.webChat.primaryColor]]),v(s("input",{"onUpdate:modelValue":e[27]||(e[27]=n=>t.value.channels.webChat.primaryColor=n),onInput:g,type:"text",class:"input-field color-text",placeholder:"#6366f1"},null,544),[[b,t.value.channels.webChat.primaryColor]])])])])):d("",!0)])])):d("",!0)]),s("div",wa,[s("div",ka,[e[119]||(e[119]=s("div",{class:"channel-info"},[s("h4",null,"Voice (Phone Calls)"),s("p",{class:"channel-description"},"Inbound and outbound phone conversations")],-1)),s("label",Ca,[v(s("input",{type:"checkbox","onUpdate:modelValue":e[28]||(e[28]=n=>t.value.channels.voice.enabled=n),onChange:g},null,544),[[G,t.value.channels.voice.enabled]]),e[118]||(e[118]=s("span",{class:"toggle-slider"},null,-1))])]),t.value.channels.voice.enabled?(a(),o("div",Sa,[s("div",Ta,[e[120]||(e[120]=s("label",null,"Phone Number",-1)),v(s("input",{"onUpdate:modelValue":e[29]||(e[29]=n=>t.value.channels.voice.phoneNumber=n),onInput:g,type:"text",class:"input-field",placeholder:"+1 (555) 000-0000"},null,544),[[b,t.value.channels.voice.phoneNumber]]),e[121]||(e[121]=s("div",{class:"hint"},"Get a phone number for your agent",-1))]),s("div",Ma,[e[123]||(e[123]=s("label",null,"Voice Type",-1)),v(s("select",{"onUpdate:modelValue":e[30]||(e[30]=n=>t.value.channels.voice.voiceType=n),onChange:g,class:"input-field"},[...e[122]||(e[122]=[ee('<option value="nova" data-v-4e40c860>Nova (Female, Conversational)</option><option value="alloy" data-v-4e40c860>Alloy (Neutral, Professional)</option><option value="echo" data-v-4e40c860>Echo (Male, Warm)</option><option value="fable" data-v-4e40c860>Fable (Male, Expressive)</option><option value="onyx" data-v-4e40c860>Onyx (Male, Deep)</option><option value="shimmer" data-v-4e40c860>Shimmer (Female, Bright)</option>',6)])],544),[[fe,t.value.channels.voice.voiceType]])]),s("div",xa,[e[124]||(e[124]=s("label",null,"Greeting Message",-1)),v(s("textarea",{"onUpdate:modelValue":e[31]||(e[31]=n=>t.value.channels.voice.greeting=n),onInput:g,rows:"2",class:"input-field",placeholder:"Hello! How can I assist you today?"},null,544),[[b,t.value.channels.voice.greeting]])]),s("div",Ia,[e[125]||(e[125]=s("label",null,"Ending Message",-1)),v(s("textarea",{"onUpdate:modelValue":e[32]||(e[32]=n=>t.value.channels.voice.endingMessage=n),onInput:g,rows:"2",class:"input-field",placeholder:"Thank you for calling. Have a great day!"},null,544),[[b,t.value.channels.voice.endingMessage]])]),s("div",_a,[e[126]||(e[126]=s("label",null,"Speech Speed",-1)),v(s("input",{"onUpdate:modelValue":e[33]||(e[33]=n=>t.value.channels.voice.speechSpeed=n),onInput:g,type:"range",min:"0.5",max:"2",step:"0.1",class:"range-input"},null,544),[[b,t.value.channels.voice.speechSpeed]]),s("div",Aa,i(t.value.channels.voice.speechSpeed)+"x",1)]),s("div",$a,[e[128]||(e[128]=s("label",null,"Language",-1)),v(s("select",{"onUpdate:modelValue":e[34]||(e[34]=n=>t.value.channels.voice.language=n),onChange:g,class:"input-field"},[...e[127]||(e[127]=[s("option",{value:"en-US"},"English (US)",-1),s("option",{value:"es-ES"},"Spanish",-1),s("option",{value:"fr-FR"},"French",-1)])],544),[[fe,t.value.channels.voice.language]])])])):d("",!0)]),s("div",Pa,[s("div",Da,[e[130]||(e[130]=s("div",{class:"channel-info"},[s("h4",null,"SMS / Text Messages"),s("p",{class:"channel-description"},"Two-way text messaging with customers")],-1)),s("label",Wa,[v(s("input",{type:"checkbox","onUpdate:modelValue":e[35]||(e[35]=n=>t.value.channels.sms.enabled=n),onChange:g},null,544),[[G,t.value.channels.sms.enabled]]),e[129]||(e[129]=s("span",{class:"toggle-slider"},null,-1))])]),t.value.channels.sms.enabled?(a(),o("div",Ua,[s("div",Va,[e[131]||(e[131]=s("label",null,"SMS Number",-1)),v(s("input",{"onUpdate:modelValue":e[36]||(e[36]=n=>t.value.channels.sms.smsNumber=n),onInput:g,type:"text",class:"input-field",placeholder:"+1 (555) 987-6543"},null,544),[[b,t.value.channels.sms.smsNumber]]),e[132]||(e[132]=s("div",{class:"hint"},"Get an SMS-enabled number",-1))]),s("div",za,[s("label",null,[v(s("input",{type:"checkbox","onUpdate:modelValue":e[37]||(e[37]=n=>t.value.channels.sms.autoReply=n),onChange:g},null,544),[[G,t.value.channels.sms.autoReply]]),e[133]||(e[133]=T(" Enable Auto-Reply ",-1))]),e[134]||(e[134]=s("div",{class:"hint"},"Send automatic responses to incoming texts",-1))]),t.value.channels.sms.autoReply?(a(),o("div",Na,[e[135]||(e[135]=s("label",null,"Auto-Reply Message",-1)),v(s("textarea",{"onUpdate:modelValue":e[38]||(e[38]=n=>t.value.channels.sms.autoReplyMessage=n),onInput:g,rows:"2",class:"input-field",placeholder:"Thanks for texting! I'll respond shortly."},null,544),[[b,t.value.channels.sms.autoReplyMessage]])])):d("",!0)])):d("",!0)]),e[138]||(e[138]=ee('<div class="channel-block disabled" data-v-4e40c860><div class="channel-header" data-v-4e40c860><div class="channel-info" data-v-4e40c860><h4 data-v-4e40c860>WhatsApp Business</h4><span class="coming-soon-badge" data-v-4e40c860>Coming Soon</span></div></div></div><div class="channel-block disabled" data-v-4e40c860><div class="channel-header" data-v-4e40c860><div class="channel-info" data-v-4e40c860><h4 data-v-4e40c860>Instagram DMs</h4><span class="coming-soon-badge" data-v-4e40c860>Coming Soon</span></div></div></div><div class="channel-block disabled" data-v-4e40c860><div class="channel-header" data-v-4e40c860><div class="channel-info" data-v-4e40c860><h4 data-v-4e40c860>Facebook Messenger</h4><span class="coming-soon-badge" data-v-4e40c860>Coming Soon</span></div></div></div>',3))]),e[139]||(e[139]=ee('<div id="conversation-flow" class="config-section build-section-anchor" data-v-4e40c860><h3 data-v-4e40c860>Conversation Flow</h3><p class="section-intro" data-v-4e40c860>Advanced workflow builder for digital and voice interactions</p><div class="flow-intro-card" data-v-4e40c860><div class="flow-intro-title" data-v-4e40c860>Advanced Workflow Builder</div><div class="flow-features" data-v-4e40c860><div data-v-4e40c860>‚Ä¢ Drag-and-drop node editor</div><div data-v-4e40c860>‚Ä¢ Digital nodes: Message, Wait, Survey, Contact Collection</div><div data-v-4e40c860>‚Ä¢ Voice nodes: Play, Collect, Menu, Transfer</div><div data-v-4e40c860>‚Ä¢ Shared nodes: Branch, API, Assign, Expert</div><div data-v-4e40c860>‚Ä¢ Pre-built templates</div></div></div><div class="flow-status" data-v-4e40c860><div class="status-label" data-v-4e40c860>Current Flow:</div><div class="status-value" data-v-4e40c860>Default Conversational Pattern</div></div><button class="btn-secondary" disabled data-v-4e40c860> Open Workflow Builder (Demo) </button><div class="flow-preview" data-v-4e40c860><div class="flow-node" data-v-4e40c860>Start</div><div class="flow-connector" data-v-4e40c860>‚Üí</div><div class="flow-node" data-v-4e40c860>Greeting</div><div class="flow-connector" data-v-4e40c860>‚Üí</div><div class="flow-node" data-v-4e40c860>Collect Input</div><div class="flow-connector" data-v-4e40c860>‚Üí</div><div class="flow-node" data-v-4e40c860>Agent Processing</div><div class="flow-connector" data-v-4e40c860>‚Üí</div><div class="flow-node" data-v-4e40c860>End</div></div></div>',1))],512),s("div",Ra,[t.value?(a(),Ue(Ve,{key:0,agent:t.value},null,8,["agent"])):d("",!0)])],64))],2)):be.value==="test"?(a(),o("div",Ba,[s("div",Ha,[s("div",Ea,[s("div",Fa,[e[140]||(e[140]=s("h3",null,"Test Scenarios",-1)),s("span",Ka,i(Ie.value),1)]),s("div",La,[t.value.testScenarios&&t.value.testScenarios.length>0?(a(),o("button",{key:0,class:"btn-secondary",onClick:ls,disabled:H.value},i(H.value?"Running All Tests...":"Run All Tests"),9,Oa)):d("",!0),s("button",{class:"btn-primary",onClick:e[39]||(e[39]=n=>O.value=!0)}," + Create Test ")])]),e[149]||(e[149]=s("div",{class:"test-info-banner"},[s("div",{class:"info-icon"},"‚ÑπÔ∏è"),s("div",{class:"info-text"},[s("strong",null,"Testing is free:"),T(" Test your agent as much as you want. Testing doesn't use any tokens or count toward your usage limits. ")])],-1)),!t.value.testScenarios||t.value.testScenarios.length===0?(a(),o("div",qa,[e[141]||(e[141]=s("h4",null,"No Test Scenarios",-1)),e[142]||(e[142]=s("p",null,"Create test scenarios to validate your agent's responses with keyword checking",-1)),s("button",{class:"btn-primary",onClick:e[40]||(e[40]=n=>O.value=!0)}," + Create First Test ")])):(a(),o("div",Ja,[(a(!0),o(D,null,N(t.value.testScenarios,n=>{var S,Se,je,Qe;return a(),o("div",{key:n.id,class:"scenario-card"},[s("div",Ya,[s("div",Ga,i(n.name),1),s("button",{class:M(["scenario-run-btn",{running:q.value[n.id],passed:((S=A.value[n.id])==null?void 0:S.passed)===!0,failed:((Se=A.value[n.id])==null?void 0:Se.passed)===!1}]),onClick:bl=>Fe(n),disabled:q.value[n.id]},[q.value[n.id]?(a(),o("span",Qa,[...e[143]||(e[143]=[T(" Running",-1),s("span",{class:"loading-dots"},"...",-1)])])):((je=A.value[n.id])==null?void 0:je.passed)===!0?(a(),o("span",Xa," ‚úì Passed ")):((Qe=A.value[n.id])==null?void 0:Qe.passed)===!1?(a(),o("span",Za," ‚úó Failed ")):(a(),o("span",eo,"Run Test"))],10,ja)]),s("div",so,[e[144]||(e[144]=s("strong",null,"Prompt:",-1)),T(" "+i(n.prompt),1)]),s("div",to,[e[145]||(e[145]=s("strong",null,"Expected Keywords:",-1)),s("span",no,i(n.expectedKeywords.join(", ")),1)]),A.value[n.id]?(a(),o("div",ao,[s("div",oo,[e[146]||(e[146]=s("strong",null,"Agent Response:",-1)),s("p",null,i(A.value[n.id].response),1)]),A.value[n.id].matchedKeywords.length>0?(a(),o("div",lo,[e[147]||(e[147]=s("strong",null,"‚úì Matched Keywords:",-1)),s("span",io,i(A.value[n.id].matchedKeywords.join(", ")),1)])):d("",!0),A.value[n.id].missingKeywords.length>0?(a(),o("div",uo,[e[148]||(e[148]=s("strong",null,"‚úó Missing Keywords:",-1)),s("span",ro,i(A.value[n.id].missingKeywords.join(", ")),1)])):d("",!0)])):d("",!0)])}),128))]))]),s("div",co,[t.value?(a(),Ue(Ve,{key:0,agent:t.value},null,8,["agent"])):d("",!0)])])):be.value==="monitor"?(a(),o("div",vo,[s("div",po,[t.value.status==="live"?(a(),o("div",go,[e[153]||(e[153]=ee('<h3 data-v-4e40c860>Live Performance Dashboard</h3><div class="metrics-grid" data-v-4e40c860><div class="metric-card" data-v-4e40c860><div class="metric-label" data-v-4e40c860>Total Conversations</div><div class="metric-value" data-v-4e40c860>247</div><div class="metric-change positive" data-v-4e40c860>‚Üë 12% this week</div></div><div class="metric-card" data-v-4e40c860><div class="metric-label" data-v-4e40c860>Deflection Rate</div><div class="metric-value" data-v-4e40c860>78%</div><div class="metric-change positive" data-v-4e40c860>‚Üë 5% this week</div></div><div class="metric-card" data-v-4e40c860><div class="metric-label" data-v-4e40c860>Avg Response Time</div><div class="metric-value" data-v-4e40c860>1.2s</div><div class="metric-change positive" data-v-4e40c860>‚Üì 0.3s improvement</div></div><div class="metric-card" data-v-4e40c860><div class="metric-label" data-v-4e40c860>Customer Satisfaction</div><div class="metric-value" data-v-4e40c860>4.6/5</div><div class="metric-change" data-v-4e40c860>‚≠ê Based on 89 ratings</div></div></div>',2)),s("div",mo,[e[151]||(e[151]=s("div",{class:"status-indicator"},null,-1)),s("div",ho,[e[150]||(e[150]=s("div",{class:"status-title"},"Agent is Live",-1)),s("div",fo,"Published "+i(Ge(t.value.lastPublishedDate)),1)]),s("div",yo,[(a(!0),o(D,null,N(_e.value,(n,S)=>(a(),o("span",{key:S,class:"active-channel-badge"},i(n),1))),128))])]),s("div",bo,[e[152]||(e[152]=s("h4",null,"Recent Conversations",-1)),s("div",wo,[(a(!0),o(D,null,N(ss.value,n=>(a(),o("div",{key:n.id,class:"conversation-item"},[s("div",ko,[s("div",{class:M(["conv-channel-badge",n.channel])},i(n.channel),3),s("div",Co,i(n.time),1)]),s("div",So,i(n.user),1),s("div",To,i(n.summary),1),s("div",Mo,[s("span",xo,i(n.duration),1),s("span",{class:M(["conv-status",n.resolved?"resolved":"escalated"])},i(n.resolved?"Resolved":"Escalated"),3)])]))),128))])])])):(a(),o("div",Io,[s("div",{class:"draft-state-card"},[e[154]||(e[154]=s("h3",null,"Agent Not Published",-1)),e[155]||(e[155]=s("p",null,"This agent is currently in draft mode. Publish it to start accepting conversations and see performance metrics here.",-1)),s("button",{class:"btn-primary",onClick:Ke},"Review & Deploy")]),t.value.hasBeenPublished?(a(),o("div",_o,[e[156]||(e[156]=s("h4",null,"Historical Data",-1)),s("p",Ao,"Last published: "+i(Ge(t.value.lastPublishedDate)),1),e[157]||(e[157]=ee('<div class="metrics-grid" data-v-4e40c860><div class="metric-card historical" data-v-4e40c860><div class="metric-label" data-v-4e40c860>Total Conversations</div><div class="metric-value" data-v-4e40c860>247</div><div class="metric-change" data-v-4e40c860>While agent was live</div></div><div class="metric-card historical" data-v-4e40c860><div class="metric-label" data-v-4e40c860>Deflection Rate</div><div class="metric-value" data-v-4e40c860>78%</div><div class="metric-change" data-v-4e40c860>Historical average</div></div><div class="metric-card historical" data-v-4e40c860><div class="metric-label" data-v-4e40c860>Avg Response Time</div><div class="metric-value" data-v-4e40c860>1.2s</div><div class="metric-change" data-v-4e40c860>Historical average</div></div><div class="metric-card historical" data-v-4e40c860><div class="metric-label" data-v-4e40c860>Customer Satisfaction</div><div class="metric-value" data-v-4e40c860>4.6/5</div><div class="metric-change" data-v-4e40c860>‚≠ê Historical average</div></div></div>',1))])):d("",!0)]))]),s("div",$o,[t.value?(a(),Ue(Ve,{key:0,agent:t.value},null,8,["agent"])):d("",!0)])])):d("",!0)])])):(a(),o("div",ut,[e[56]||(e[56]=s("p",null,"Agent not found",-1)),De(m,{to:"/onboarding-v2",class:"btn-primary"},{default:We(()=>[...e[55]||(e[55]=[T("Create New Agent",-1)])]),_:1})])),O.value?(a(),o("div",{key:2,class:"modal-overlay",onClick:ge(we,["self"])},[s("div",Po,[s("div",{class:"modal-header"},[e[158]||(e[158]=s("h3",null,"Create Test Scenario",-1)),s("button",{class:"modal-close",onClick:we},"√ó")]),s("div",Do,[s("div",Wo,[e[159]||(e[159]=s("label",null,[T("Test Name "),s("span",{class:"required"},"*")],-1)),v(s("input",{"onUpdate:modelValue":e[41]||(e[41]=n=>k.value.name=n),type:"text",class:"input-field",placeholder:"e.g., Check Business Hours"},null,512),[[b,k.value.name]])]),s("div",Uo,[e[160]||(e[160]=s("label",null,[T("Test Prompt "),s("span",{class:"required"},"*")],-1)),v(s("textarea",{"onUpdate:modelValue":e[42]||(e[42]=n=>k.value.prompt=n),rows:"3",class:"input-field",placeholder:"What message should be sent to the agent?"},null,512),[[b,k.value.prompt]]),e[161]||(e[161]=s("div",{class:"hint"},"This is what gets sent to your agent",-1))]),s("div",Vo,[e[162]||(e[162]=s("label",null,"Expected Keywords (comma-separated)",-1)),v(s("input",{"onUpdate:modelValue":e[43]||(e[43]=n=>k.value.keywords=n),type:"text",class:"input-field",placeholder:"e.g., monday, friday, 9am, 5pm"},null,512),[[b,k.value.keywords]]),e[163]||(e[163]=s("div",{class:"hint"},"The agent's response should contain these keywords",-1))]),s("div",zo,[e[165]||(e[165]=s("label",null,"Pass Criteria",-1)),v(s("select",{"onUpdate:modelValue":e[44]||(e[44]=n=>k.value.passCriteria=n),class:"input-field"},[...e[164]||(e[164]=[s("option",{value:"contains-all"},"Contains all keywords",-1),s("option",{value:"contains-any"},"Contains any keyword",-1),s("option",{value:"response-time"},"Response time < 2s",-1)])],512),[[fe,k.value.passCriteria]])])]),s("div",No,[s("button",{class:"btn-secondary",onClick:we},"Cancel"),s("button",{class:"btn-primary",onClick:os,disabled:!k.value.name||!k.value.prompt}," Create Test ",8,Ro)])])])):d("",!0),te.value?(a(),o("div",{key:3,class:"modal-overlay",onClick:Ae},[s("div",{class:"modal-dialog modal-md",onClick:e[45]||(e[45]=ge(()=>{},["stop"]))},[s("div",{class:"modal-header"},[e[166]||(e[166]=s("h2",null,"Unpublish Agent?",-1)),s("button",{class:"modal-close",onClick:Ae},"√ó")]),s("div",Bo,[s("p",Ho,[e[167]||(e[167]=T("Are you sure you want to unpublish ",-1)),s("strong",null,i((p=t.value)==null?void 0:p.name),1),e[168]||(e[168]=T("?",-1))]),Be.value?(a(),o("div",Eo,[e[171]||(e[171]=s("div",{class:"warning-icon"},"‚ö†Ô∏è",-1)),s("div",Fo,[e[169]||(e[169]=s("div",{class:"warning-title"},"Active Sessions Detected",-1)),s("div",Ko,[x.value>0?(a(),o("div",Lo,[s("span",Oo,i(x.value),1),T(" active chat session"+i(x.value>1?"s":""),1)])):d("",!0),F.value>0?(a(),o("div",qo,[s("span",Jo,i(F.value),1),T(" active voice call"+i(F.value>1?"s":""),1)])):d("",!0)]),e[170]||(e[170]=s("p",{class:"warning-note"},"These sessions will be immediately terminated if you unpublish.",-1))])])):(a(),o("div",Yo,[...e[172]||(e[172]=[s("p",null,"No active sessions detected. The agent can be safely unpublished.",-1)])])),e[173]||(e[173]=s("div",{class:"unpublish-info"},[s("h4",null,"What happens when you unpublish:"),s("ul",null,[s("li",null,"Agent will stop accepting new conversations"),s("li",null,"You'll be able to edit configuration and settings"),s("li",null,"You can republish anytime after making changes")])],-1))]),s("div",Go,[s("button",{class:"btn-secondary",onClick:Ae},"Cancel"),s("button",{class:"btn-primary",onClick:rs},i(Be.value?"Unpublish Anyway":"Unpublish Agent"),1)])])])):d("",!0),K.value?(a(),o("div",{key:4,class:"modal-overlay",onClick:Pe},[s("div",{class:"modal-dialog modal-sm",onClick:e[46]||(e[46]=ge(()=>{},["stop"]))},[s("div",{class:"modal-header"},[e[174]||(e[174]=s("h2",null,"Delete Agent?",-1)),s("button",{class:"modal-close",onClick:Pe},"√ó")]),s("div",jo,[s("p",null,[e[175]||(e[175]=T("Are you sure you want to delete ",-1)),s("strong",null,i((he=t.value)==null?void 0:he.name),1),e[176]||(e[176]=T("?",-1))]),e[177]||(e[177]=s("p",{class:"warning-text"},"This action cannot be undone.",-1))]),s("div",{class:"modal-footer"},[s("button",{class:"btn-secondary",onClick:Pe},"Cancel"),s("button",{class:"btn-primary btn-danger",onClick:fs},"Delete Agent")])])])):d("",!0),U.value?(a(),o("div",{key:5,class:"modal-overlay",onClick:$e},[s("div",{class:"modal-dialog modal-md",onClick:e[47]||(e[47]=ge(()=>{},["stop"]))},[s("div",{class:"modal-header"},[e[178]||(e[178]=s("h2",null,"Duplicate Agent",-1)),s("button",{class:"modal-close",onClick:$e},"√ó")]),s("div",Qo,[s("p",Xo,[e[179]||(e[179]=T("Choose how you want to duplicate ",-1)),s("strong",null,i((de=t.value)==null?void 0:de.name),1),e[180]||(e[180]=T(":",-1))]),s("div",Zo,[s("div",{class:"duplicate-option",onClick:ps},[s("div",el,[e[181]||(e[181]=s("div",{class:"option-title"},"Duplicate (Same Channel)",-1)),s("div",sl,"Creates an exact copy with the same channel type ("+i(Ie.value)+"). All knowledge, skills, and configuration will be copied.",1)])]),((Z=t.value)==null?void 0:Z.agentType)!=="phone"?(a(),o("div",{key:0,class:"duplicate-option",onClick:gs},[...e[182]||(e[182]=[s("div",{class:"option-content"},[s("div",{class:"option-title"},"Duplicate to Voice"),s("div",{class:"option-desc"},"Creates a Voice agent with the same knowledge and skills. You'll configure voice-specific settings like greetings and phone number.")],-1)])])):d("",!0),((Ce=t.value)==null?void 0:Ce.agentType)!=="chat"?(a(),o("div",{key:1,class:"duplicate-option",onClick:ms},[...e[183]||(e[183]=[s("div",{class:"option-content"},[s("div",{class:"option-title"},"Duplicate to Chat"),s("div",{class:"option-desc"},"Creates a Chat agent with the same knowledge and skills. You'll configure chat widget appearance and behavior.")],-1)])])):d("",!0)])]),s("div",{class:"modal-footer"},[s("button",{class:"btn-secondary",onClick:$e},"Cancel")])])])):d("",!0),Q.value?(a(),o("div",{key:6,class:"modal-overlay",onClick:Le},[s("div",{class:"modal-dialog modal-md skill-test-modal",onClick:e[49]||(e[49]=ge(()=>{},["stop"]))},[s("div",tl,[s("h2",null,"Test Skill: "+i((pe=ne.value)==null?void 0:pe.name),1),s("button",{class:"modal-close",onClick:Le},"√ó")]),s("div",nl,[s("div",al,[e[184]||(e[184]=s("label",null,"Test Input / Mock Data",-1)),v(s("textarea",{"onUpdate:modelValue":e[48]||(e[48]=n=>re.value=n),class:"input-field",placeholder:'Enter test data (e.g., {"orderId": "12345"})',rows:"6"},null,512),[[b,re.value]])]),s("button",{class:"btn-primary",onClick:bs,disabled:ae.value},i(ae.value?"Testing Skill...":"Run Test"),9,ol),B.value?(a(),o("div",ll,[s("div",il,[e[185]||(e[185]=s("span",null,"Result",-1)),s("span",{class:M(["result-status",B.value.status])},i(B.value.status),3)]),s("div",dl,i(B.value.output),1),B.value.logs?(a(),o("div",ul,[e[186]||(e[186]=s("div",{class:"logs-header"},"Execution Logs",-1)),s("div",rl,[(a(!0),o(D,null,N(B.value.logs,(n,S)=>(a(),o("div",{key:S,class:"log-entry"},i(n),1))),128))])])):d("",!0)])):d("",!0)])])])):d("",!0),ce.value?(a(),o("div",{key:7,class:"modal-overlay",onClick:ke},[s("div",{class:"modal-dialog",onClick:e[54]||(e[54]=ge(()=>{},["stop"]))},[s("div",cl,[s("h2",null,i(w.value.isEditing?"Configure Skill":"Create New Skill"),1),s("button",{class:"modal-close",onClick:ke},"√ó")]),s("div",vl,[s("div",pl,[e[187]||(e[187]=s("label",null,"Skill Name",-1)),v(s("input",{"onUpdate:modelValue":e[50]||(e[50]=n=>w.value.name=n),type:"text",class:"input-field",placeholder:"e.g., Check Order Status"},null,512),[[b,w.value.name]])]),s("div",gl,[e[188]||(e[188]=s("label",null,"Description",-1)),v(s("textarea",{"onUpdate:modelValue":e[51]||(e[51]=n=>w.value.description=n),rows:"2",class:"input-field",placeholder:"What does this skill do?"},null,512),[[b,w.value.description]])]),s("div",ml,[e[190]||(e[190]=s("label",null,"MCP Server",-1)),v(s("select",{"onUpdate:modelValue":e[52]||(e[52]=n=>w.value.mcpServer=n),class:"input-field"},[...e[189]||(e[189]=[ee('<option value="" data-v-4e40c860>No MCP connection</option><option value="postgres" data-v-4e40c860>PostgreSQL Database</option><option value="shopify" data-v-4e40c860>Shopify API</option><option value="stripe" data-v-4e40c860>Stripe Payments</option><option value="sendgrid" data-v-4e40c860>SendGrid Email</option><option value="twilio" data-v-4e40c860>Twilio SMS</option>',6)])],512),[[fe,w.value.mcpServer]]),e[191]||(e[191]=s("div",{class:"hint"},"Connect to an MCP server to extend this skill's capabilities",-1))]),w.value.mcpServer?(a(),o("div",hl,[e[192]||(e[192]=s("label",null,"Parameters",-1)),v(s("textarea",{"onUpdate:modelValue":e[53]||(e[53]=n=>w.value.parameters=n),rows:"3",class:"input-field",placeholder:'{"api_key": "...", "endpoint": "..."}'},null,512),[[b,w.value.parameters]]),e[193]||(e[193]=s("div",{class:"hint"},"JSON configuration for the MCP server connection",-1))])):d("",!0)]),s("div",fl,[s("button",{class:"btn-secondary",onClick:ke},"Cancel"),s("button",{class:"btn-primary",onClick:As},i(w.value.isEditing?"Save Changes":"Create Skill"),1)])])])):d("",!0)])}}},Cl=Ze(yl,[["__scopeId","data-v-4e40c860"]]);export{Cl as default};
