import{r as o,g as p,m as z,c as a,a as e,j as d,t as n,k as g,b as L,d as k,e as G,s as V,q as B,F as h,i as y,v as J,w as K,o as l,n as Q}from"./index-BjwPefqb.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Z={class:"billing-container"},ee={id:"overview",class:"section-anchor"},te={key:0,class:"trial-banner"},se={class:"banner-left"},ne={class:"banner-text"},ae={class:"banner-right"},le={class:"alert-content"},oe={class:"alert-title"},ie={class:"alert-text"},de={class:"billing-section"},re={class:"section-header-row"},ue={class:"balance-grid"},ve={class:"balance-card"},ce={class:"balance-value"},me={class:"balance-sublabel"},be={class:"balance-card"},pe={class:"balance-value"},ge={class:"balance-sublabel"},he={key:0},ye={class:"balance-card"},fe={class:"balance-value"},Ce={class:"balance-sublabel"},_e={key:0,class:"config-panel"},ke={class:"form-row"},we={class:"form-group"},Ae={class:"checkbox-label"},$e={key:0,class:"form-row"},Se={class:"form-group"},xe={class:"form-group"},Me={class:"form-actions"},Pe={id:"usage",class:"section-anchor"},Le={class:"billing-section"},Ve={class:"usage-tabs"},Be={key:0,class:"usage-content"},Fe={class:"usage-table"},Te={class:"agent-name"},Re={class:"channels-list"},Ue={class:"table-row total-row"},Oe={key:1,class:"usage-content"},Ne={class:"usage-table"},De={class:"percentage-bar-container"},We={class:"percentage-text"},Ee={class:"table-row total-row"},Ie={key:2,class:"usage-content"},qe={class:"usage-table"},He={id:"payment",class:"section-anchor"},Ye={class:"billing-section"},je={key:0,class:"payment-method-card"},ze={key:1,class:"empty-payment"},Ge={id:"alerts",class:"section-anchor"},Je={class:"billing-section"},Ke={class:"alerts-list"},Qe={class:"checkbox-label"},Xe=["onUpdate:modelValue"],Ze={class:"alert-item-content"},et={class:"alert-item-title"},tt={class:"alert-item-desc"},st={class:"modal-header"},nt={class:"modal-body"},at={class:"credit-options"},lt=["onClick"],ot={class:"credit-amount"},it={class:"credit-conversations"},dt={key:0,class:"popular-badge"},rt={class:"custom-amount"},ut={class:"custom-input-group"},vt={key:0,class:"custom-conversions"},ct={class:"payment-summary"},mt={class:"summary-row"},bt={class:"summary-row total"},pt={key:0,class:"payment-notice"},gt={class:"modal-footer"},ht=["disabled"],yt={__name:"BillingV2View",setup(ft){const F=o(null),T=o(!0),R=o(847),U=o(23),u=o(445),M=o(278),f=o(!1),A=o(250),$=o(50),C=o(!1),O=o([{threshold:80,enabled:!0,description:"Warning - consider adding more credits"},{threshold:100,enabled:!0,description:"All trial credits used - using paid credits"},{threshold:120,enabled:!0,description:"Approaching low balance"},{threshold:150,enabled:!1,description:"High usage alert"},{threshold:200,enabled:!1,description:"Very high usage alert"}]),N=p(()=>Math.floor(u.value/.5)<100),D=p(()=>{const i=Math.floor(u.value/.5);return i===0?"critical":i<50?"warning":"info"}),W=p(()=>{const i=Math.floor(u.value/.5);return i===0?"No Credits Remaining - Agents Paused":i<50?"Low Credit Balance":"Credit Balance Getting Low"}),E=p(()=>{const i=Math.floor(u.value/.5);return i===0?"Add credits now to resume your agents":`Only ${i} conversations remaining. Add credits to avoid service interruption.`}),r=o("agents"),P=o([{id:1,name:"Sales Agent",conversations:142,activeChannels:["Web Chat","Phone"]},{id:2,name:"Support Agent",conversations:89,activeChannels:["Web Chat","SMS"]},{id:3,name:"Onboarding Agent",conversations:47,activeChannels:["Phone"]}]),w=p(()=>P.value.reduce((i,t)=>i+t.conversations,0)),I=p(()=>{const i=[{name:"Web Chat",conversations:156},{name:"Phone",conversations:89},{name:"SMS",conversations:33}],t=i.reduce((s,b)=>s+b.conversations,0);return i.map(s=>({...s,percentage:Math.round(s.conversations/t*100)}))}),S=o([{id:1,date:"Nov 1, 2025",type:"Credit Purchase",amount:250,balanceAfter:445,status:"completed"},{id:2,date:"Oct 28, 2025",type:"Usage",amount:-42.48,balanceAfter:195,status:"completed"},{id:3,date:"Oct 15, 2025",type:"Credit Purchase",amount:100,balanceAfter:237.48,status:"completed"},{id:4,date:"Oct 12, 2025",type:"Usage",amount:-28.16,balanceAfter:137.48,status:"completed"},{id:5,date:"Oct 1, 2025",type:"Trial Credits",amount:890,balanceAfter:165.64,status:"completed"}]),x=o(!0);function q(){alert("Add payment method flow would open here")}const v=o(!1),_=o(null),c=o(null),H=o([{amount:100,conversations:112,popular:!1},{amount:250,conversations:280,popular:!0},{amount:500,conversations:561,popular:!1},{amount:1e3,conversations:1123,popular:!1}]),m=p(()=>c.value&&c.value>=10?c.value:_.value||0);function Y(){m.value!==0&&(u.value+=m.value,S.value.unshift({id:S.value.length+1,date:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),type:"Credit Purchase",amount:m.value,balanceAfter:u.value,status:"completed"}),_.value=null,c.value=null,v.value=!1,alert(`Successfully added $${m.value.toFixed(2)} to your account!`))}function j(){C.value=!1,alert("Auto-recharge settings saved!")}return z(()=>{const i=localStorage.getItem("daart-billing");i&&JSON.parse(i)}),(i,t)=>(l(),a("div",Z,[e("div",{class:"billing-content",ref_key:"contentArea",ref:F},[e("div",ee,[T.value?(l(),a("div",te,[e("div",se,[t[17]||(t[17]=e("div",{class:"banner-title"},"Free Trial Active",-1)),e("div",ne,n(R.value.toLocaleString())+" conversations remaining OR "+n(U.value)+" days left (whichever comes first) ",1)]),e("div",ae,[e("button",{class:"btn-primary",onClick:t[0]||(t[0]=s=>v.value=!0)},"Add Credits Now")])])):d("",!0),N.value?(l(),a("div",{key:1,class:g(["alert-banner",D.value])},[e("div",le,[e("div",oe,n(W.value),1),e("div",ie,n(E.value),1)]),e("button",{class:"btn-secondary-small",onClick:t[1]||(t[1]=s=>v.value=!0)},"Add Credits")],2)):d("",!0),e("div",de,[e("div",re,[t[18]||(t[18]=e("div",null,[e("h2",null,"Credit Balance"),e("p",{class:"section-desc"},"Prepaid conversation credits at $0.50 per conversation")],-1)),e("button",{class:"btn-primary",onClick:t[2]||(t[2]=s=>v.value=!0)},"Add Credits")]),e("div",ue,[e("div",ve,[t[19]||(t[19]=e("div",{class:"balance-label"},"Current Balance",-1)),e("div",ce,"$"+n(u.value.toFixed(2)),1),e("div",me,"≈ "+n(Math.floor(u.value/.5).toLocaleString())+" conversations",1)]),e("div",be,[t[20]||(t[20]=e("div",{class:"balance-label"},"Auto-Recharge",-1)),e("div",pe,n(f.value?"On":"Off"),1),e("div",ge,[f.value?(l(),a("span",he,"+$"+n(A.value)+" at $"+n($.value),1)):d("",!0),e("button",{class:"btn-link-small",onClick:t[3]||(t[3]=s=>C.value=!C.value)},"Configure")])]),e("div",ye,[t[21]||(t[21]=e("div",{class:"balance-label"},"This Month",-1)),e("div",fe,n(M.value.toLocaleString()),1),e("div",Ce,"$"+n((M.value*.5).toFixed(2))+" spent",1)])]),t[29]||(t[29]=L('<div class="info-panel" data-v-e39e8b36><h3 data-v-e39e8b36>What happens when my credits run out?</h3><ul class="info-list" data-v-e39e8b36><li data-v-e39e8b36><strong data-v-e39e8b36>Your agents will pause</strong> - they won&#39;t be deleted, just temporarily stopped</li><li data-v-e39e8b36><strong data-v-e39e8b36>No automatic charges</strong> - we never charge your card without your permission</li><li data-v-e39e8b36><strong data-v-e39e8b36>You control when to add credits</strong> - add credits anytime to resume your agents</li><li data-v-e39e8b36><strong data-v-e39e8b36>Payment method required only when buying credits</strong> - not required to start your free trial</li><li data-v-e39e8b36><strong data-v-e39e8b36>Optional auto-recharge</strong> - set it up below to automatically add credits when balance gets low</li></ul></div>',1)),C.value?(l(),a("div",_e,[t[27]||(t[27]=e("h3",null,"Auto-Recharge Settings",-1)),t[28]||(t[28]=e("p",{class:"config-desc"},"Automatically add credits when your balance gets low",-1)),e("div",ke,[e("div",we,[e("label",Ae,[k(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=s=>f.value=s)},null,512),[[V,f.value]]),t[22]||(t[22]=G(" Enable Auto-Recharge ",-1))])])]),f.value?(l(),a("div",$e,[e("div",Se,[t[24]||(t[24]=e("label",null,"Recharge Amount",-1)),k(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>A.value=s),class:"input-field"},[...t[23]||(t[23]=[e("option",{value:100},"$100 (≈ 112 conversations)",-1),e("option",{value:250},"$250 (≈ 280 conversations)",-1),e("option",{value:500},"$500 (≈ 561 conversations)",-1),e("option",{value:1e3},"$1,000 (≈ 1,123 conversations)",-1)])],512),[[B,A.value]])]),e("div",xe,[t[26]||(t[26]=e("label",null,"Trigger When Balance Falls Below",-1)),k(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>$.value=s),class:"input-field"},[...t[25]||(t[25]=[e("option",{value:25},"$25",-1),e("option",{value:50},"$50",-1),e("option",{value:100},"$100",-1),e("option",{value:200},"$200",-1)])],512),[[B,$.value]])])])):d("",!0),e("div",Me,[e("button",{class:"btn-secondary",onClick:t[7]||(t[7]=s=>C.value=!1)},"Cancel"),e("button",{class:"btn-primary",onClick:j},"Save Settings")])])):d("",!0)])]),e("div",Pe,[e("div",Le,[t[37]||(t[37]=e("h2",null,"Usage Overview",-1)),t[38]||(t[38]=e("p",{class:"section-desc"},"Conversation usage across all agents and channels",-1)),e("div",Ve,[e("button",{class:g(["usage-tab",{active:r.value==="agents"}]),onClick:t[8]||(t[8]=s=>r.value="agents")}," By Agent ",2),e("button",{class:g(["usage-tab",{active:r.value==="channels"}]),onClick:t[9]||(t[9]=s=>r.value="channels")}," By Channel ",2),e("button",{class:g(["usage-tab",{active:r.value==="history"}]),onClick:t[10]||(t[10]=s=>r.value="history")}," Transaction History ",2)]),r.value==="agents"?(l(),a("div",Be,[e("div",Fe,[t[32]||(t[32]=e("div",{class:"table-header"},[e("div",null,"Agent Name"),e("div",null,"Conversations"),e("div",null,"Cost"),e("div",null,"Channels")],-1)),(l(!0),a(h,null,y(P.value,s=>(l(),a("div",{key:s.id,class:"table-row"},[e("div",Te,n(s.name),1),e("div",null,n(s.conversations.toLocaleString()),1),e("div",null,"$"+n((s.conversations*.5).toFixed(2)),1),e("div",Re,[(l(!0),a(h,null,y(s.activeChannels,b=>(l(),a("span",{key:b,class:"channel-tag"},n(b),1))),128))])]))),128)),e("div",Ue,[t[30]||(t[30]=e("div",null,[e("strong",null,"Total")],-1)),e("div",null,[e("strong",null,n(w.value.toLocaleString()),1)]),e("div",null,[e("strong",null,"$"+n((w.value*.5).toFixed(2)),1)]),t[31]||(t[31]=e("div",null,null,-1))])])])):d("",!0),r.value==="channels"?(l(),a("div",Oe,[e("div",Ne,[t[35]||(t[35]=e("div",{class:"table-header"},[e("div",null,"Channel"),e("div",null,"Conversations"),e("div",null,"Cost"),e("div",null,"Percentage")],-1)),(l(!0),a(h,null,y(I.value,s=>(l(),a("div",{key:s.name,class:"table-row"},[e("div",null,n(s.name),1),e("div",null,n(s.conversations.toLocaleString()),1),e("div",null,"$"+n((s.conversations*.5).toFixed(2)),1),e("div",null,[e("div",De,[e("div",{class:"percentage-bar",style:Q({width:s.percentage+"%"})},null,4),e("span",We,n(s.percentage)+"%",1)])])]))),128)),e("div",Ee,[t[33]||(t[33]=e("div",null,[e("strong",null,"Total")],-1)),e("div",null,[e("strong",null,n(w.value.toLocaleString()),1)]),e("div",null,[e("strong",null,"$"+n((w.value*.5).toFixed(2)),1)]),t[34]||(t[34]=e("div",null,[e("strong",null,"100%")],-1))])])])):d("",!0),r.value==="history"?(l(),a("div",Ie,[e("div",qe,[t[36]||(t[36]=e("div",{class:"table-header"},[e("div",null,"Date"),e("div",null,"Type"),e("div",null,"Amount"),e("div",null,"Balance After"),e("div",null,"Status")],-1)),(l(!0),a(h,null,y(S.value,s=>(l(),a("div",{key:s.id,class:"table-row"},[e("div",null,n(s.date),1),e("div",null,n(s.type),1),e("div",{class:g(s.amount>0?"amount-positive":"amount-negative")},n(s.amount>0?"+":"")+"$"+n(Math.abs(s.amount).toFixed(2)),3),e("div",null,"$"+n(s.balanceAfter.toFixed(2)),1),e("div",null,[e("span",{class:g(["status-badge",s.status])},n(s.status),3)])]))),128))])])):d("",!0)])]),e("div",He,[e("div",Ye,[t[41]||(t[41]=e("h2",null,"Payment Method",-1)),t[42]||(t[42]=e("p",{class:"section-desc"},"Manage your payment methods for credit purchases",-1)),x.value?(l(),a("div",je,[...t[39]||(t[39]=[L('<div class="payment-left" data-v-e39e8b36><div class="payment-type" data-v-e39e8b36>Visa ending in 4242</div><div class="payment-expires" data-v-e39e8b36>Expires 12/2027</div></div><div class="payment-right" data-v-e39e8b36><button class="btn-link" data-v-e39e8b36>Update</button><button class="btn-link" data-v-e39e8b36>Remove</button></div>',2)])])):(l(),a("div",ze,[t[40]||(t[40]=e("p",null,"No payment method on file",-1)),e("button",{class:"btn-secondary",onClick:q},"Add Payment Method")]))])]),e("div",Ge,[e("div",Je,[t[43]||(t[43]=e("h2",null,"Usage Alerts",-1)),t[44]||(t[44]=e("p",{class:"section-desc"},"Get notified when you reach spending thresholds",-1)),e("div",Ke,[(l(!0),a(h,null,y(O.value,s=>(l(),a("div",{key:s.threshold,class:"alert-item"},[e("label",Qe,[k(e("input",{type:"checkbox","onUpdate:modelValue":b=>s.enabled=b},null,8,Xe),[[V,s.enabled]]),e("div",Ze,[e("div",et,n(s.threshold)+"% of initial balance spent",1),e("div",tt,n(s.description),1)])])]))),128))])])])],512),v.value?(l(),a("div",{key:0,class:"modal-overlay",onClick:t[16]||(t[16]=s=>v.value=!1)},[e("div",{class:"modal-content",onClick:t[15]||(t[15]=K(()=>{},["stop"]))},[e("div",st,[t[45]||(t[45]=e("h2",null,"Add Credits",-1)),e("button",{class:"modal-close",onClick:t[11]||(t[11]=s=>v.value=!1)},"×")]),e("div",nt,[t[50]||(t[50]=e("p",{class:"modal-desc"},"Select an amount to add to your credit balance",-1)),e("div",at,[(l(!0),a(h,null,y(H.value,s=>(l(),a("button",{key:s.amount,class:g(["credit-option",{selected:_.value===s.amount}]),onClick:b=>_.value=s.amount},[e("div",ot,"$"+n(s.amount),1),e("div",it,"≈ "+n(s.conversations)+" conversations",1),s.popular?(l(),a("div",dt,"Popular")):d("",!0)],10,lt))),128))]),e("div",rt,[t[47]||(t[47]=e("label",null,"Custom Amount",-1)),e("div",ut,[t[46]||(t[46]=e("span",{class:"input-prefix"},"$",-1)),k(e("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=s=>c.value=s),class:"input-field",placeholder:"Enter amount",min:"10",onInput:t[13]||(t[13]=s=>_.value=null)},null,544),[[J,c.value,void 0,{number:!0}]])]),c.value>=10?(l(),a("div",vt," ≈ "+n(Math.floor(c.value/.5).toLocaleString())+" conversations ",1)):d("",!0)]),e("div",ct,[e("div",mt,[t[48]||(t[48]=e("span",null,"Amount",-1)),e("span",null,"$"+n(m.value.toFixed(2)),1)]),e("div",bt,[t[49]||(t[49]=e("span",null,"Total",-1)),e("span",null,"$"+n(m.value.toFixed(2)),1)])]),x.value?d("",!0):(l(),a("div",pt," You'll be prompted to add a payment method to complete this purchase. "))]),e("div",gt,[e("button",{class:"btn-secondary",onClick:t[14]||(t[14]=s=>v.value=!1)},"Cancel"),e("button",{class:"btn-primary",disabled:m.value===0,onClick:Y},n(x.value?"Purchase Credits":"Add Payment & Purchase"),9,ht)])])])):d("",!0)]))}},kt=X(yt,[["__scopeId","data-v-e39e8b36"]]);export{kt as default};
