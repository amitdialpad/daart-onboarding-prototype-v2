import{r,g as P,h as Se,c as o,o as n,j as i,a as s,k as x,t as d,F as W,i as z,d as u,v as f,l as Ye,e as M,C as Ce,x as Ss,m as Ts,p as xs,y as $e,z as Pe,A as Ms,n as Is,b as j,s as B,q as te,B as De,w as me,f as As}from"./index-BbMsVu6k.js";import{_ as Ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $s={class:"testing-panel"},Ps={key:0,class:"channel-tabs"},Ds={key:1,class:"test-content"},Ws={class:"test-content-header"},Us={key:0,class:"active-channels-bar"},Vs={class:"message-content"},_s={key:0,class:"test-message agent typing-indicator"},Ns={key:1,class:"test-suggestions"},zs=["onClick"],Es={class:"test-input-area"},Rs=["disabled"],Hs={key:2,class:"test-content"},Bs={class:"voice-test-panel"},Ls={class:"voice-test-status"},Fs={class:"voice-test-info"},Ks={class:"info-row"},Os={class:"info-value"},qs={key:0,class:"info-row"},Js={class:"info-value"},Ys={class:"voice-test-actions"},Gs={key:1,class:"btn-secondary btn-full",disabled:""},Qs={class:"voice-transcript"},js={key:0,class:"no-transcript"},Xs={class:"transcript-speaker"},Zs={class:"transcript-text"},et={class:"transcript-time"},st={__name:"TestingPanel",props:{agent:{type:Object,required:!0}},setup(Ue){const y=Ue,U=r("chat"),t=P(()=>{var v;return y.agent.agentType?y.agent.agentType:y.agent.channels&&(v=y.agent.channels.voice)!=null&&v.enabled?"phone":"chat"}),X=P(()=>{var h,T;if(!y.agent.channels)return!1;const v=((h=y.agent.channels.webChat)==null?void 0:h.enabled)!==!1,p=((T=y.agent.channels.voice)==null?void 0:T.enabled)===!0;return v&&p}),ae=P(()=>{var v;return y.agent.agentType==="chat"?!0:y.agent.channels?X.value?U.value==="chat":((v=y.agent.channels.webChat)==null?void 0:v.enabled)!==!1:!1}),ge=P(()=>{var v;return y.agent.agentType==="phone"?!0:y.agent.channels?X.value?U.value==="voice":((v=y.agent.channels.voice)==null?void 0:v.enabled)===!0:!1}),ce=P(()=>{var h,T;if(t.value!=="chat")return[];const v=["Web Chat"];return(y.agent.smsEnabled||((T=(h=y.agent.channels)==null?void 0:h.sms)==null?void 0:T.enabled))&&v.push("SMS"),v}),Z=r([]),L=r(""),S=r(!1),F=r(!1),I=r(null),ne=P(()=>{const v=[];return y.agent.knowledgeBase&&y.agent.knowledgeBase.length>50&&(v.push("Tell me about your services"),v.push("What are your hours?")),y.agent.skills&&y.agent.skills.length>0&&(v.push("Can you help me with my order?"),v.push("I need technical support")),v.length===0&&v.push("Hello","How can you help me?","What can you do?"),v}),A=r("idle"),oe=r("+1 (555) 000-0000"),V=r(0),J=r([]),E=r(null);let Y=null;const R=P(()=>{switch(A.value){case"idle":return"Ready to Test";case"connecting":return"Connecting...";case"connected":return"Call Active";case"ended":return"Call Ended";default:return"Ready to Test"}}),ve=P(()=>{const v=Math.floor(V.value/60),p=V.value%60;return`${v}:${p.toString().padStart(2,"0")}`});function le(){!L.value.trim()||F.value||(b(L.value),L.value="")}function b(v){Z.value.push({type:"user",text:v}),Ce(()=>{I.value&&(I.value.scrollTop=I.value.scrollHeight)}),S.value=!0,F.value=!0,setTimeout(()=>{S.value=!1;let p=_(v);Z.value.push({type:"agent",text:p}),F.value=!1,Ce(()=>{I.value&&(I.value.scrollTop=I.value.scrollHeight)})},1500)}function _(v){const p=v.toLowerCase();return y.agent.instructions,p.includes("hello")||p.includes("hi")?y.agent.welcomeMessage||"Hello! How can I help you today?":p.includes("hours")||p.includes("open")?"We're open Monday through Friday, 9 AM to 5 PM. How can I assist you?":p.includes("help")||p.includes("support")?"I'm here to help! I can answer questions about our products and services. What would you like to know?":"Thanks for your message. Based on my configuration, I can assist you with various inquiries. What would you like to know more about?"}function $(){Z.value=[]}function ie(){A.value="connecting",setTimeout(()=>{A.value="connected",V.value=0,Y=setInterval(()=>{V.value++},1e3);const v=y.agent.greetingMessage||"Hello! How can I help you today?";J.value.push({speaker:"Agent",text:v,time:"00:00"}),K()},2e3)}function G(){A.value="ended",Y&&(clearInterval(Y),Y=null),setTimeout(()=>{A.value="idle"},2e3)}function K(){setTimeout(()=>{A.value==="connected"&&(J.value.push({speaker:"You",text:"Hi, I need help with my account.",time:O(V.value)}),Ce(()=>{E.value&&(E.value.scrollTop=E.value.scrollHeight)}))},3e3),setTimeout(()=>{A.value==="connected"&&(J.value.push({speaker:"Agent",text:"I'd be happy to help you with your account. What specific issue are you experiencing?",time:O(V.value)}),Ce(()=>{E.value&&(E.value.scrollTop=E.value.scrollHeight)}))},5e3)}function O(v){const p=Math.floor(v/60),h=v%60;return`${p}:${h.toString().padStart(2,"0")}`}return Se(()=>y.agent.phoneNumber,v=>{v&&(oe.value=v)},{immediate:!0}),(v,p)=>(n(),o("div",$s,[X.value?(n(),o("div",Ps,[s("button",{class:x(["channel-tab",{active:U.value==="chat"}]),onClick:p[0]||(p[0]=h=>U.value="chat")}," Web Chat ",2),s("button",{class:x(["channel-tab",{active:U.value==="voice"}]),onClick:p[1]||(p[1]=h=>U.value="voice")}," Voice Call ",2)])):i("",!0),ae.value?(n(),o("div",Ds,[s("div",Ws,[s("span",null,d(y.agent.status==="live"?"Live Conversation Monitor":"Digital Agent Testing"),1),s("button",{class:"btn-icon",onClick:$},"Clear")]),ce.value.length>0?(n(),o("div",Us,[p[3]||(p[3]=s("span",{class:"channels-label"},"Active Channels:",-1)),(n(!0),o(W,null,z(ce.value,h=>(n(),o("span",{key:h,class:"channel-badge"},d(h),1))),128))])):i("",!0),s("div",{class:"test-messages",ref_key:"messagesContainer",ref:I},[(n(!0),o(W,null,z(Z.value,(h,T)=>(n(),o("div",{key:T,class:x(["test-message",h.type])},[s("div",Vs,d(h.text),1)],2))),128)),S.value?(n(),o("div",_s,[...p[4]||(p[4]=[s("div",{class:"message-content"},[s("span",{class:"dot"}),s("span",{class:"dot"}),s("span",{class:"dot"})],-1)])])):i("",!0)],512),ne.value.length>0?(n(),o("div",Ns,[(n(!0),o(W,null,z(ne.value.slice(0,5),(h,T)=>(n(),o("button",{key:T,class:"suggestion-chip",onClick:Q=>b(h)},d(h),9,zs))),128))])):i("",!0),s("div",Es,[u(s("input",{"onUpdate:modelValue":p[2]||(p[2]=h=>L.value=h),onKeyup:Ye(le,["enter"]),type:"text",class:"test-input",placeholder:"Type a test message..."},null,544),[[f,L.value]]),s("button",{class:"btn-send",onClick:le,disabled:!L.value.trim()||F.value},d(F.value?"...":"Send"),9,Rs)])])):i("",!0),ge.value?(n(),o("div",Hs,[s("div",Bs,[s("div",Ls,[s("div",{class:x(["voice-status-indicator",A.value])},[p[5]||(p[5]=s("div",{class:"status-dot"},null,-1)),s("span",null,d(R.value),1)],2)]),s("div",Fs,[s("div",Ks,[p[6]||(p[6]=s("span",{class:"info-label"},"Test Number:",-1)),s("span",Os,d(oe.value),1)]),V.value>0?(n(),o("div",qs,[p[7]||(p[7]=s("span",{class:"info-label"},"Duration:",-1)),s("span",Js,d(ve.value),1)])):i("",!0)]),s("div",Ys,[A.value==="idle"?(n(),o("button",{key:0,class:"btn-primary btn-full",onClick:ie}," Start Test Call ")):A.value==="connecting"?(n(),o("button",Gs,[...p[8]||(p[8]=[M(" Connecting",-1),s("span",{class:"dots"},"...",-1)])])):A.value==="connected"?(n(),o("button",{key:2,class:"btn-danger btn-full",onClick:G}," End Call ")):i("",!0)]),s("div",Qs,[p[9]||(p[9]=s("div",{class:"transcript-header"},"Live Transcript",-1)),s("div",{class:"transcript-messages",ref_key:"transcriptContainer",ref:E},[J.value.length===0?(n(),o("div",js," Start a test call to see the transcript ")):i("",!0),(n(!0),o(W,null,z(J.value,(h,T)=>(n(),o("div",{key:T,class:"transcript-message"},[s("div",Xs,d(h.speaker),1),s("div",Zs,d(h.text),1),s("div",et,d(h.time),1)]))),128))],512)])])])):i("",!0)]))}},We=Ge(st,[["__scopeId","data-v-431dbdbb"]]),tt={class:"workspace-v2"},at={key:0,class:"no-agent-state"},nt={key:1,class:"agent-workspace"},ot={class:"workspace-header"},lt={class:"header-left"},it={class:"agent-name"},dt={class:"agent-meta"},ut={class:"meta-type"},rt={key:0,class:"meta-divider"},ct={key:1,class:"meta-divider"},vt={key:2,class:"auto-save-status saving"},pt={key:3,class:"meta-divider"},gt={key:4,class:"auto-save-status saved"},ft={key:0,class:"unpublished-changes-alert"},mt={class:"header-right"},ht={key:0,class:"agent-actions-menu",ref:"actionsMenu"},yt={key:0,class:"actions-dropdown"},bt={class:"workspace-main"},wt={key:0,class:"wizard-container"},kt={class:"wizard-header"},Ct={class:"wizard-progress"},St={class:"wizard-step-indicator"},Tt={class:"wizard-progress-bar"},xt={class:"wizard-step-content"},Mt={key:0,class:"wizard-step wizard-step-split"},It={class:"wizard-left"},At={class:"form-group"},$t={class:"form-group"},Pt={class:"channel-toggle-group"},Dt={class:"channel-toggle-content"},Wt={class:"channel-toggle-status"},Ut={class:"form-group"},Vt={class:"collapse-icon"},_t={key:0,class:"collapsible-content"},Nt={class:"wizard-right"},zt={class:"test-panel"},Et={class:"test-panel-header"},Rt={key:0,class:"test-welcome"},Ht={class:"message-bubble"},Bt={key:1,class:"test-message assistant"},Lt={class:"test-input-container"},Ft=["disabled"],Kt=["disabled"],Ot={class:"test-suggestions"},qt=["onClick","disabled"],Jt={key:1,class:"wizard-step"},Yt={class:"knowledge-tabs"},Gt={key:0,class:"knowledge-tab-content"},Qt={class:"form-group"},jt={key:1,class:"knowledge-tab-content"},Xt={key:2,class:"knowledge-tab-content"},Zt={class:"form-group"},ea=["disabled"],sa={key:0,class:"added-websites"},ta={class:"website-url"},aa=["onClick"],na={key:2,class:"wizard-step wizard-complete"},oa={key:0,class:"wizard-navigation"},la={class:"build-sections-nav"},ia=["onClick"],da={key:0,class:"live-agent-warning"},ua={class:"warning-content"},ra={key:1,class:"wizard-mode-prompt"},ca={id:"configuration",class:"config-section build-section-anchor"},va={class:"form-group"},pa={class:"form-group"},ga={id:"knowledge-base",class:"config-section build-section-anchor"},fa={class:"knowledge-header"},ma={class:"knowledge-sources-list"},ha={key:0,class:"knowledge-source-item"},ya={class:"source-checkbox"},ba={class:"checkbox-label"},wa={class:"source-info"},ka={class:"source-size"},Ca={key:1,class:"knowledge-source-item"},Sa={class:"source-checkbox"},Ta={class:"checkbox-label"},xa={class:"source-info"},Ma={class:"source-count"},Ia={key:2,class:"knowledge-source-item"},Aa={class:"source-checkbox"},$a={class:"checkbox-label"},Pa={class:"source-info"},Da={class:"source-count"},Wa={key:3,class:"knowledge-source-item"},Ua={class:"source-checkbox"},Va={class:"checkbox-label"},_a={class:"source-info"},Na={class:"source-count"},za={key:4,class:"knowledge-empty-state"},Ea={id:"skills",class:"config-section build-section-anchor"},Ra={class:"skills-list"},Ha={key:0},Ba={class:"skill-info"},La={class:"skill-header-row"},Fa={class:"skill-name"},Ka={key:0,class:"config-badge"},Oa={class:"skill-desc"},qa={key:0,class:"skill-mcp-info"},Ja={class:"skill-actions"},Ya=["onClick"],Ga=["onClick"],Qa={class:"toggle-switch"},ja=["onUpdate:modelValue"],Xa={key:1,class:"skills-empty"},Za={id:"channels-configuration",class:"config-section build-section-anchor"},en={class:"channel-block"},sn={class:"channel-header"},tn={class:"toggle-switch"},an={key:0,class:"channel-config"},nn={class:"collapsible-section"},on={key:0,class:"collapsible-content"},ln={class:"form-group"},dn={class:"form-group"},un={class:"form-group"},rn={class:"form-group"},cn={class:"form-group"},vn={class:"collapsible-section"},pn={key:0,class:"collapsible-content"},gn={class:"form-group"},fn={class:"form-group"},mn={key:0,class:"form-group"},hn={class:"form-group"},yn={class:"collapsible-section"},bn={key:0,class:"collapsible-content"},wn={class:"form-group"},kn={class:"form-group"},Cn={class:"form-group"},Sn={class:"form-group"},Tn={class:"form-group"},xn={class:"collapsible-section"},Mn={key:0,class:"collapsible-content"},In={class:"form-group"},An={class:"color-picker-group"},$n={class:"form-group"},Pn={class:"form-group"},Dn={class:"form-group"},Wn={class:"channel-block"},Un={class:"channel-header"},Vn={class:"toggle-switch"},_n={key:0,class:"channel-config"},Nn={class:"form-group"},zn={class:"form-group"},En={class:"form-group"},Rn={class:"form-group"},Hn={class:"form-group"},Bn={class:"range-value"},Ln={class:"form-group"},Fn={class:"channel-block"},Kn={class:"channel-header"},On={class:"toggle-switch"},qn={key:0,class:"channel-config"},Jn={class:"form-group"},Yn={class:"form-group checkbox-group"},Gn={key:0,class:"form-group"},Qn={class:"build-testing-panel"},jn={key:1,class:"test-layout"},Xn={class:"test-scenarios-main"},Zn={class:"test-header"},eo={class:"test-header-left"},so={class:"test-meta"},to={class:"test-header-right"},ao=["disabled"],no={key:0,class:"test-empty-state"},oo={key:1,class:"test-scenarios-list"},lo={class:"scenario-header"},io={class:"scenario-name"},uo=["onClick","disabled"],ro={key:0},co={key:1},vo={key:2},po={key:3},go={class:"scenario-prompt"},fo={class:"scenario-keywords"},mo={class:"keywords-list"},ho={key:0,class:"scenario-results"},yo={class:"result-response"},bo={key:0,class:"result-matched"},wo={class:"matched-keywords"},ko={key:1,class:"result-missing"},Co={class:"missing-keywords"},So={class:"test-panel-wrapper"},To={key:2,class:"monitor-layout"},xo={class:"monitor-main"},Mo={key:0,class:"live-dashboard"},Io={class:"status-card live"},Ao={class:"status-info"},$o={class:"status-text"},Po={class:"active-channels"},Do={class:"conversation-history"},Wo={class:"conversation-list"},Uo={class:"conv-header"},Vo={class:"conv-time"},_o={class:"conv-user"},No={class:"conv-summary"},zo={class:"conv-footer"},Eo={class:"conv-duration"},Ro={key:1,class:"draft-dashboard"},Ho={key:0,class:"historical-data"},Bo={class:"historical-note"},Lo={class:"monitor-panel-wrapper"},Fo={class:"modal-dialog"},Ko={class:"modal-body"},Oo={class:"form-group"},qo={class:"form-group"},Jo={class:"form-group"},Yo={class:"form-group"},Go={class:"modal-footer"},Qo=["disabled"],jo={class:"modal-body"},Xo={class:"modal-body"},Zo={class:"modal-intro"},el={class:"duplicate-options"},sl={class:"option-content"},tl={class:"option-desc"},al={class:"modal-header"},nl={class:"modal-body"},ol={class:"skill-test-input-section"},ll=["disabled"],il={key:0,class:"skill-test-result-section"},dl={class:"result-header"},ul={class:"result-content"},rl={key:0,class:"result-logs"},cl={class:"logs-content"},vl={class:"modal-header"},pl={class:"modal-body"},gl={class:"form-group"},fl={class:"form-group"},ml={class:"form-group"},hl={key:0,class:"form-group"},yl={class:"modal-footer"},bl={__name:"AgentsWorkspaceV2View",setup(Ue){const y=Ss(),U=As(),t=r(null),X=r(!1),ae=r(!1),ge=r(null),ce=r("configuration"),Z=r(!1);r(null);const L=r(!1),S=r({name:"",prompt:"",keywords:"",passCriteria:"contains-all"}),F=r({}),I=r({}),ne=r(!1),A=r(!1),oe=r(!1),V=r(!1),J=r(!1),E=r(null),Y=r(""),R=r(null),ve=r(!1),le=r(!1),b=r({name:"",description:"",mcpServer:"",parameters:""}),_=r(!1),$=r(1),ie=r(!1),G=r(""),K=r("text"),O=r(""),v=r([]),p=r(!1),h=r([]),T=r(""),Q=r(!1),Ve=r(!1),de=r(null),Qe=P(()=>{var e;return{support:["What are your hours?","How do I return an item?","I need help with my account"],sales:["Tell me about your products","What's your pricing?","Can I schedule a demo?"],hr:["How do I request time off?","What are the benefits?","Where's the employee handbook?"],orders:["Where's my order?","Track package #12345","How do I return something?"],scheduling:["Book an appointment","What times are available?","Cancel my booking"],general:["What are your hours?","Where are you located?","How can I contact you?"]}[(e=t.value)==null?void 0:e.problemType]||["What can you help me with?","Tell me about your services","How do I get started?"]});r([{id:"calendar",name:"Calendar & Scheduling",description:"Book, reschedule, and manage appointments with calendar integration"},{id:"order-lookup",name:"Order Lookup",description:"Check order status, tracking information, and delivery estimates"},{id:"knowledge-search",name:"Knowledge Base Search",description:"Search through documentation and knowledge articles for accurate answers"},{id:"user-auth",name:"User Authentication",description:"Verify customer identity before accessing sensitive information"},{id:"payment",name:"Payment Processing",description:"Handle payments, refunds, and billing inquiries securely"},{id:"ticket-creation",name:"Ticket Creation",description:"Create support tickets and escalate complex issues to human agents"},{id:"crm-integration",name:"CRM Integration",description:"Access customer data and update records in your CRM system"},{id:"lead-qualification",name:"Lead Qualification",description:"Qualify sales leads and route them to the appropriate team"}]);const je=r([{id:1,channel:"web-chat",user:"Sarah Johnson",summary:"Asked about return policy and shipping times",time:"2 minutes ago",duration:"3m 24s",resolved:!0},{id:2,channel:"sms",user:"+1 (555) 234-5678",summary:"Inquired about order status for #12345",time:"15 minutes ago",duration:"1m 52s",resolved:!0},{id:3,channel:"voice",user:"+1 (555) 876-5432",summary:"Technical support for product setup",time:"1 hour ago",duration:"5m 18s",resolved:!1},{id:4,channel:"web-chat",user:"Mike Chen",summary:"Question about product specifications",time:"2 hours ago",duration:"2m 45s",resolved:!0},{id:5,channel:"sms",user:"+1 (555) 345-6789",summary:"Appointment rescheduling request",time:"3 hours ago",duration:"1m 30s",resolved:!0}]);let Te=null;const N=P(()=>{var k,w;const l=JSON.parse(localStorage.getItem("daart-knowledge-sources")||"{}"),e=localStorage.getItem("daart-org-knowledge");let m=null;if(e){const D=(JSON.parse(e).content||"").length;if(D>0){let g="";D<1e3?g=`${D} characters`:D<1e6?g=`${(D/1e3).toFixed(1)}K characters`:g=`${(D/1e6).toFixed(1)}M characters`,m={size:g}}}return{textContent:m,documents:l.documents||[],websites:l.websites||[],conversations:{enabled:((k=l.conversations)==null?void 0:k.enabled)||!1,count:((w=l.conversations)==null?void 0:w.count)||0}}}),Xe=P(()=>N.value.textContent||N.value.documents.length>0||N.value.websites.length>0||N.value.conversations.enabled),_e=P(()=>{var e,m,k;const l=[{id:"configuration",label:"Configuration"},{id:"knowledge-base",label:"Knowledge Base"},{id:"skills",label:"Skills"}];return(e=t.value)!=null&&e.channels?(l.push({id:"channels-configuration",label:"Channels & Integrations"}),l.push({id:"conversation-flow",label:"Conversation Flow"})):((m=t.value)==null?void 0:m.agentType)==="chat"?(l.push({id:"chat-configuration",label:"Chat Configuration"}),l.push({id:"channels",label:"Channels"}),l.push({id:"conversation-flow",label:"Conversation Flow"})):((k=t.value)==null?void 0:k.agentType)==="phone"&&(l.push({id:"voice-configuration",label:"Voice Configuration"}),l.push({id:"conversation-flow",label:"Conversation Flow"})),l}),q=r({chatMessages:!1,chatAvailability:!1,chatEscalation:!1,chatAppearance:!1,voiceSettings:!0,voiceGreetings:!1,voiceTransfer:!1});function he(l){q.value[l]=!q.value[l]}const ye=P(()=>y.path.includes("/build")?"build":y.path.includes("/test")?"test":y.path.includes("/monitor")?"monitor":"build"),xe=P(()=>{var l;return((l=t.value)==null?void 0:l.agentType)==="phone"?"Voice Agent":"Digital Agent"}),Me=P(()=>{if(!t.value)return[];const l=[];return t.value.agentType==="phone"?l.push("Voice"):t.value.agentType==="chat"&&(l.push("Web Chat"),t.value.smsEnabled&&l.push("SMS")),l}),Ne=P(()=>t.value?t.value.needsWizard===!0:!1),pe=P(()=>2);function ze(){const l=y.params.id,e=JSON.parse(localStorage.getItem("daart-agents")||"[]");t.value=e.find(m=>m.id===l),t.value&&(t.value.name||(t.value.name="Untitled Agent"),t.value.instructions||(t.value.instructions=""),t.value.status||(t.value.status="draft"),t.value.knowledgeSources||(t.value.knowledgeSources={textContent:!0,documents:!0,websites:!0,conversations:!0}),Ne.value&&ye.value==="build"&&!ie.value?(_.value=!0,$.value=1,G.value||(G.value=ps(t.value.problemType))):Ne.value||(_.value=!1),t.value.phoneNumber||(t.value.phoneNumber="+1 (555) 000-0000"),t.value.voiceType||(t.value.voiceType="nova"),t.value.language||(t.value.language="en-US"),t.value.greetingMessage||(t.value.greetingMessage="Hello! Thank you for calling. How can I help you today?"),t.value.speechSpeed||(t.value.speechSpeed=1),t.value.smsEnabled||(t.value.smsEnabled=!1),t.value.skills||(t.value.skills=[]),t.value.knowledgeDocs||(t.value.knowledgeDocs=[]),t.value.testScenarios||(t.value.testScenarios=[]),t.value.agentType==="chat"&&(t.value.chatConfig||(t.value.chatConfig={}),t.value.chatConfig.widgetPosition||(t.value.chatConfig.widgetPosition="bottom-right"),t.value.chatConfig.primaryColor||(t.value.chatConfig.primaryColor="#000000"),t.value.chatConfig.displayName||(t.value.chatConfig.displayName="Support Assistant"),t.value.chatConfig.widgetSize||(t.value.chatConfig.widgetSize="standard"),t.value.chatConfig.welcomeMessage||(t.value.chatConfig.welcomeMessage="Hi! How can I help you today?"),t.value.chatConfig.enableProactive||(t.value.chatConfig.enableProactive=!1),t.value.chatConfig.proactiveMessage||(t.value.chatConfig.proactiveMessage=""),t.value.chatConfig.responseTime||(t.value.chatConfig.responseTime="Usually replies in 2 minutes"),t.value.chatConfig.showTypingIndicator||(t.value.chatConfig.showTypingIndicator=!0),t.value.chatConfig.businessHours||(t.value.chatConfig.businessHours="Monday-Friday, 9 AM - 5 PM EST"),t.value.chatConfig.offlineBehavior||(t.value.chatConfig.offlineBehavior="always-on"),t.value.chatConfig.offlineMessage||(t.value.chatConfig.offlineMessage=""),t.value.chatConfig.transferConditions||(t.value.chatConfig.transferConditions=""),t.value.chatConfig.transferDestination||(t.value.chatConfig.transferDestination="support"),t.value.chatConfig.handoffMessage||(t.value.chatConfig.handoffMessage="Let me connect you with a team member...")),t.value.agentType==="phone"&&(t.value.voiceConfig||(t.value.voiceConfig={}),t.value.voiceConfig.holdMessage||(t.value.voiceConfig.holdMessage="Please hold while I look that up..."),t.value.voiceConfig.voicemailGreeting||(t.value.voiceConfig.voicemailGreeting="Please leave a message..."),t.value.voiceConfig.transferConditions||(t.value.voiceConfig.transferConditions=""),t.value.voiceConfig.transferDestination||(t.value.voiceConfig.transferDestination="support"),t.value.voiceConfig.customTransferNumber||(t.value.voiceConfig.customTransferNumber=""),t.value.voiceConfig.transferMessage||(t.value.voiceConfig.transferMessage="Let me transfer you...")))}function c(){Te&&clearTimeout(Te),X.value=!0,ae.value=!1,t.value&&t.value.status==="live"&&(Z.value=!0),Te=setTimeout(()=>{ee()},800)}function ee(){const l=JSON.parse(localStorage.getItem("daart-agents")||"[]"),e=l.findIndex(m=>m.id===t.value.id);e!==-1&&(l[e]={...t.value},localStorage.setItem("daart-agents",JSON.stringify(l)),X.value=!1,ae.value=!0,setTimeout(()=>{ae.value=!1},2e3))}function Ze(l){ce.value=l;const e=document.getElementById(l);e&&ge.value&&e.scrollIntoView({behavior:"smooth",block:"start"})}function be(){L.value=!1,S.value={name:"",prompt:"",keywords:"",passCriteria:"contains-all"}}function es(){if(!S.value.name||!S.value.prompt)return;const l={id:`test-${Date.now()}`,name:S.value.name,prompt:S.value.prompt,expectedKeywords:S.value.keywords.split(",").map(e=>e.trim()).filter(e=>e.length>0),passCriteria:S.value.passCriteria};t.value.testScenarios||(t.value.testScenarios=[]),t.value.testScenarios.push(l),ee(),be()}async function Ee(l){F.value[l.id]=!0,await new Promise(k=>setTimeout(k,1e3));const e=as(l),m=ts(e,l.expectedKeywords);I.value[l.id]={response:e,passed:m.missingKeywords.length===0,matchedKeywords:m.matchedKeywords,missingKeywords:m.missingKeywords},F.value[l.id]=!1}async function ss(){if(!(!t.value.testScenarios||t.value.testScenarios.length===0)){ne.value=!0;for(const l of t.value.testScenarios)await Ee(l),await new Promise(e=>setTimeout(e,500));ne.value=!1}}function ts(l,e){const m=l.toLowerCase(),k=[],w=[];for(const H of e)m.includes(H.toLowerCase())?k.push(H):w.push(H);return{matchedKeywords:k,missingKeywords:w}}function as(l){const e=Math.random();if(e<.6){const m=l.expectedKeywords.join(", ");return`Based on your question about "${l.prompt}", here's what I can tell you: ${m}. Let me know if you need more details!`}else return e<.8?`I can help with that. Here's some information: ${l.expectedKeywords.slice(0,Math.ceil(l.expectedKeywords.length/2)).join(", ")}. Is there anything else?`:"Thank you for your question. I'd be happy to help you with that. Could you provide more details?"}function Re(){ee(),U.push(`/agents-v2/${t.value.id}/deploy`)}function ns(){A.value=!A.value}function os(){t.value&&(A.value=!1,V.value=!0)}function Ie(){V.value=!1}function ls(){if(!t.value)return;const l={...t.value,id:Date.now().toString(),name:`${t.value.name} (Copy)`,status:"draft",conversations:0,createdAt:new Date().toISOString(),lastUpdated:"Just now",needsWizard:!1},e=JSON.parse(localStorage.getItem("daart-agents")||"[]");e.push(l),localStorage.setItem("daart-agents",JSON.stringify(e)),V.value=!1,U.push(`/agents-v2/${l.id}/build`)}function is(){if(!t.value)return;const l={...t.value,id:Date.now().toString(),name:`${t.value.name} (Voice)`,agentType:"phone",channels:["phone"],status:"draft",conversations:0,createdAt:new Date().toISOString(),lastUpdated:"Just now",needsWizard:!1,phoneNumber:"+1 (555) 000-0000",voiceType:"nova",language:"en-US",greetingMessage:"",speechSpeed:1},e=JSON.parse(localStorage.getItem("daart-agents")||"[]");e.push(l),localStorage.setItem("daart-agents",JSON.stringify(e)),V.value=!1,U.push(`/agents-v2/${l.id}/build`)}function ds(){if(!t.value)return;const l={...t.value,id:Date.now().toString(),name:`${t.value.name} (Chat)`,agentType:"chat",channels:["web-chat"],status:"draft",conversations:0,createdAt:new Date().toISOString(),lastUpdated:"Just now",needsWizard:!1,widgetPosition:"bottom-right",primaryColor:"#000000",displayName:t.value.name,widgetSize:"standard",smsEnabled:!1},e=JSON.parse(localStorage.getItem("daart-agents")||"[]");e.push(l),localStorage.setItem("daart-agents",JSON.stringify(e)),V.value=!1,U.push(`/agents-v2/${l.id}/build`)}function us(){t.value&&(A.value=!1,oe.value=!0)}function rs(){if(!t.value)return;const l=JSON.parse(localStorage.getItem("daart-agents")||"[]"),e=l.findIndex(m=>m.id===t.value.id);if(e!==-1)if(l.splice(e,1),localStorage.setItem("daart-agents",JSON.stringify(l)),oe.value=!1,l.length>0){const m=l[0],k=m.status==="live"?"monitor":"build";U.push(`/agents-v2/${m.id}/${k}`)}else U.push("/onboarding-v2")}function Ae(){oe.value=!1}function cs(l){E.value=l,Y.value="",R.value=null,J.value=!0}function He(){J.value=!1,E.value=null,Y.value="",R.value=null}function vs(){E.value&&(ve.value=!0,R.value=null,setTimeout(()=>{R.value={status:"success",output:`Skill "${E.value.name}" executed successfully with test input.`,logs:["[00:00.123] Skill execution started","[00:00.245] Validating input parameters","[00:00.367] Connecting to external service","[00:00.489] Processing request","[00:00.612] Response received","[00:00.734] Skill execution completed"]},ve.value=!1},1500))}function ps(l){const e={support:`Company Information:
- Company Name: [Your Company]
- Hours: Monday-Friday, 9 AM - 5 PM EST
- Support Email: support@yourcompany.com
- Support Phone: +1 (555) 123-4567

Policies:
- Returns: 30-day money-back guarantee on all products
- Shipping: Free shipping on orders over $50
- Response Time: We aim to respond within 24 hours

Common Questions:
- How do I track my order? Check your email for tracking info or contact support
- What's your return policy? 30 days, no questions asked
- Do you offer technical support? Yes, via email and phone during business hours`,sales:`Company Information:
- Company Name: [Your Company]
- Industry: [Your Industry]
- Website: www.yourcompany.com

Products/Services:
- Starter Plan: $29/month - Perfect for individuals
- Pro Plan: $99/month - For growing teams
- Enterprise: Custom pricing - For large organizations

Key Features:
- Feature 1: [Description]
- Feature 2: [Description]
- Feature 3: [Description]

Sales Process:
- Free trial available: 14 days, no credit card required
- Demo scheduling: Available Monday-Friday
- Custom quotes: Contact sales@yourcompany.com`,hr:`Company Policies:
- PTO Policy: 15 days per year, accrues monthly
- Sick Leave: 10 days per year
- Holidays: 10 paid holidays per year
- Work Hours: 9 AM - 5 PM, flexible remote options available

Benefits:
- Health Insurance: Full coverage, company pays 80%
- 401(k): Company matches up to 5%
- Professional Development: $1,000 annual budget

Resources:
- Employee Portal: portal.yourcompany.com
- HR Contact: hr@yourcompany.com
- IT Support: it@yourcompany.com`,orders:`Order Information:
- Processing Time: 1-2 business days
- Shipping Time: 3-5 business days (standard)
- Express Shipping: 1-2 business days (additional $15)
- International Shipping: 7-14 business days

Tracking:
- Tracking numbers sent via email when order ships
- Track at: www.yourcompany.com/track
- Questions: orders@yourcompany.com

Returns:
- Return Window: 30 days from delivery
- Return Process: Visit www.yourcompany.com/returns
- Refund Time: 5-7 business days after we receive the item
- Return Shipping: Free for defective items, $5 fee otherwise`,scheduling:`Appointment Information:
- Business Name: [Your Business]
- Location: [Your Address]
- Phone: +1 (555) 123-4567

Available Services:
- Service 1: 30 minutes - $50
- Service 2: 60 minutes - $100
- Service 3: 90 minutes - $150

Booking:
- Online booking: www.yourcompany.com/book
- Phone booking: Call during business hours
- Cancellation policy: 24 hours notice required
- Rescheduling: Free if done 24 hours in advance

Hours:
- Monday-Friday: 9 AM - 6 PM
- Saturday: 10 AM - 4 PM
- Sunday: Closed`,general:`Company Information:
- Business Name: [Your Business Name]
- Address: [Your Address]
- Phone: +1 (555) 123-4567
- Email: info@yourcompany.com
- Website: www.yourcompany.com

Hours:
- Monday-Friday: 9 AM - 5 PM
- Saturday: 10 AM - 2 PM
- Sunday: Closed

Services:
- Service 1: [Description]
- Service 2: [Description]
- Service 3: [Description]

FAQs:
- How can I contact you? Phone, email, or visit our website
- Where are you located? [Your Address]
- Do you offer consultations? Yes, free 15-minute consultations available`};return e[l]||e.general}function Be(){if(!T.value.trim()||Q.value)return;h.value.push({role:"user",content:T.value});const l=T.value;T.value="",Q.value=!0,Ve.value=!0,setTimeout(()=>{de.value&&(de.value.scrollTop=de.value.scrollHeight)},50),setTimeout(()=>{const e=ms(l);h.value.push({role:"assistant",content:e}),Q.value=!1,setTimeout(()=>{de.value&&(de.value.scrollTop=de.value.scrollHeight)},50)},1500)}function Le(){h.value=[],T.value="",Q.value=!1,Ve.value=!1}function gs(){if(O.value.trim()){try{new URL(O.value)}catch{alert("Please enter a valid URL");return}if(v.value.includes(O.value)){alert("This URL has already been added");return}v.value.push(O.value),O.value="",c()}}function fs(l){v.value.splice(l,1),c()}function ms(l){var D;const e=l.toLowerCase(),m=G.value||"",k=((D=t.value)==null?void 0:D.problemType)||"general";function w(g,fe=2){const ue=m.split(`
`);for(let se=0;se<ue.length;se++){const ke=ue[se].toLowerCase();if(g.some(a=>ke.includes(a))){const a=Math.max(0,se-fe),C=Math.min(ue.length,se+fe+1);return ue.slice(a,C).filter(re=>re.trim()&&!re.trim().startsWith("#")).join(" ").replace(/\s+/g," ").trim()}}return null}if(e.includes("hour")||e.includes("open")||e.includes("time")||e.includes("when")){const g=w(["hours:","open:","monday","time:"]);if(g)return`${g} Is there anything else I can help you with?`}if(e.includes("return")||e.includes("refund")){const g=w(["return","refund","money-back"]);if(g)return`${g} Would you like me to help you start a return?`}if(e.includes("pricing")||e.includes("cost")||e.includes("price")||e.includes("how much")){const g=w(["pricing:","price:","cost:","$","plans:"]);if(g)return`${g} Would you like more details about any specific option?`}if(e.includes("contact")||e.includes("email")||e.includes("phone")||e.includes("call")){const g=w(["email:","phone:","contact:"]);if(g)return`${g} How else can I assist you?`}if(e.includes("ship")||e.includes("delivery")){const g=w(["shipping:","delivery:","ship"]);if(g)return`${g} Do you have any other questions?`}if(e.includes("benefit")||e.includes("insurance")||e.includes("401k")){const g=w(["benefits:","insurance:","401k:","health"]);if(g)return`${g} Would you like more information about any specific benefit?`}if(e.includes("pto")||e.includes("time off")||e.includes("vacation")||e.includes("leave")){const g=w(["pto:","vacation:","time off:","leave:"]);if(g)return`${g} Is there anything else you'd like to know?`}if(e.includes("product")||e.includes("service")||e.includes("offer")){const g=w(["products:","services:","offering:"]);if(g)return`${g} Would you like to learn more about any of these?`}if(e.includes("book")||e.includes("appointment")||e.includes("schedule")){const g=w(["booking:","appointment:","schedule:","available:"]);return g?`${g} What date and time work best for you?`:"I can help you book an appointment. What date and time work best for you?"}if(e.includes("track")||e.includes("order")||e.includes("package")){const g=w(["tracking:","order:","package:"]);return g?`${g} Do you need help with anything else?`:"I can help you track your order. Could you provide your order number or email address?"}return e.includes("help")||e.includes("support")||e.includes("problem")?"I'm here to help! Can you tell me more about what you need assistance with?":{support:"I'd be happy to help you with that. Based on our policies and information, can you provide more details about your question?",sales:"That's a great question! Based on what we offer, I can provide more information. Would you like to schedule a call with our team?",hr:"I can help with that. Let me know if you need information about benefits, time off, or other HR topics.",orders:"I can help you with your order. Could you provide your order number or email address?",scheduling:"I can help you book an appointment. What date and time work best for you?",general:"Thanks for reaching out! How can I assist you today?"}[k]||"Thank you for your message. How can I help you further?"}function Fe(){$.value<pe.value?($.value++,ee()):Ke()}function hs(){$.value>1&&$.value--}function Ke(){if(ie.value=!0,_.value=!1,G.value.trim()){const l={content:G.value,updatedAt:new Date().toISOString()};localStorage.setItem("daart-org-knowledge",JSON.stringify(l))}t.value&&(t.value.needsWizard=!1),ee(),U.push(`/agents-v2/${t.value.id}/build`)}function ys(){_.value=!1,ie.value=!0,t.value&&(t.value.needsWizard=!1),ee()}function bs(){_.value?(_.value=!1,ie.value=!0,t.value&&(t.value.needsWizard=!1),ee()):(_.value=!0,ie.value=!1,$.value=1)}function ws(){le.value=!0,b.value={name:"",description:"",mcpServer:"",parameters:"",isEditing:!1,editingId:null}}function ks(l){le.value=!0,b.value={name:l.name,description:l.description,mcpServer:l.mcpServer||"",parameters:l.parameters||"",isEditing:!0,editingId:l.id}}function we(){le.value=!1}function Cs(){if(t.value){if(!b.value.name.trim()){alert("Skill name is required");return}if(b.value.isEditing){const l=t.value.skills.findIndex(e=>e.id===b.value.editingId);l>-1&&(t.value.skills[l]={...t.value.skills[l],name:b.value.name,description:b.value.description,mcpServer:b.value.mcpServer||null,parameters:b.value.parameters||null})}else{const l={id:`skill-${Date.now()}`,name:b.value.name,description:b.value.description,enabled:!0,mcpServer:b.value.mcpServer||null,parameters:b.value.parameters||null};t.value.skills||(t.value.skills=[]),t.value.skills.push(l)}ee(),we()}}function Oe(l){if(!l)return"Never";const e=new Date(l),k=new Date-e,w=Math.floor(k/6e4),H=Math.floor(k/36e5),D=Math.floor(k/864e5);return w<1?"just now":w<60?`${w} minute${w>1?"s":""} ago`:H<24?`${H} hour${H>1?"s":""} ago`:D<7?`${D} day${D>1?"s":""} ago`:e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}return Ts(()=>{ze()}),Se(()=>y.params.id,()=>{ze()}),Se(_,l=>{l?document.body.classList.add("wizard-mode-active"):document.body.classList.remove("wizard-mode-active")},{immediate:!0}),xs(()=>{document.body.classList.remove("wizard-mode-active")}),typeof window<"u"&&Se(()=>ge.value,l=>{l&&l.addEventListener("scroll",()=>{const e=_e.value;for(const m of e){const k=document.getElementById(m.id);if(k){const w=k.getBoundingClientRect();if(w.top>=0&&w.top<200){ce.value=m.id;break}}}})}),(l,e)=>{var k,w,H,D,g,fe,ue,se,ke;const m=Ms("router-link");return n(),o("div",tt,[t.value?(n(),o("div",nt,[s("div",ot,[s("div",lt,[s("h1",it,d(t.value.name),1),s("div",dt,[s("span",{class:x(["meta-badge",t.value.status])},d(t.value.status==="live"?"Live":"Draft"),3),e[70]||(e[70]=s("span",{class:"meta-divider"},"¬∑",-1)),s("span",ut,d(xe.value),1),Me.value.length>0?(n(),o("span",rt,"¬∑")):i("",!0),(n(!0),o(W,null,z(Me.value,(a,C)=>(n(),o("span",{key:C,class:"channel-badge"},d(a),1))),128)),X.value?(n(),o("span",ct,"¬∑")):i("",!0),X.value?(n(),o("span",vt,"Saving...")):ae.value?(n(),o("span",pt,"¬∑")):ae.value?(n(),o("span",gt,"Saved")):i("",!0)]),t.value.status==="live"&&Z.value?(n(),o("div",ft,' ‚ö†Ô∏è You have unpublished changes. Click "Publish Update" to deploy. ')):i("",!0)]),s("div",mt,[t.value&&!_.value?(n(),o("div",ht,[s("button",{class:"btn-icon-only",onClick:ns,title:"Agent actions"},[...e[71]||(e[71]=[s("span",{class:"three-dots"},"‚ãÆ",-1)])]),A.value?(n(),o("div",yt,[s("button",{class:"dropdown-action",onClick:os}," Duplicate Agent "),s("button",{class:"dropdown-action delete",onClick:us}," Delete Agent ")])):i("",!0)],512)):i("",!0),(t.value.status==="draft"||Z.value)&&!_.value?(n(),o("button",{key:1,class:"btn-primary",onClick:Re},d(t.value.status==="live"?"Publish Update":"Review & Deploy"),1)):i("",!0)])]),s("div",bt,[ye.value==="build"?(n(),o("div",{key:0,class:x(["build-layout",{"wizard-active":_.value}])},[_.value?(n(),o("div",wt,[s("div",kt,[s("div",Ct,[s("div",St," Step "+d($.value)+" of "+d(pe.value),1),s("div",Tt,[s("div",{class:"wizard-progress-fill",style:Is({width:$.value/pe.value*100+"%"})},null,4)])]),s("button",{class:"wizard-skip",onClick:ys},"Skip Wizard")]),s("div",xt,[$.value===1?(n(),o("div",Mt,[s("div",It,[e[79]||(e[79]=s("h2",null,"Test your agent",-1)),e[80]||(e[80]=s("p",{class:"wizard-step-description"},"Try it now to see how it responds",-1)),s("div",At,[e[72]||(e[72]=s("label",null,"Agent Name",-1)),u(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.value.name=a),onInput:c,type:"text",class:"input-field",placeholder:"e.g., Customer Support Agent"},null,544),[[f,t.value.name]])]),s("div",$t,[e[75]||(e[75]=s("label",null,"Primary Channel",-1)),s("div",Pt,[e[74]||(e[74]=s("div",{class:"channel-toggle-item active"},[s("div",{class:"channel-toggle-content"},[s("div",{class:"channel-toggle-name"},"Website Chat"),s("div",{class:"channel-toggle-status"},"Enabled by default")])],-1)),s("div",{class:x(["channel-toggle-item clickable",{active:(w=(k=t.value.channels)==null?void 0:k.voice)==null?void 0:w.enabled}]),onClick:e[1]||(e[1]=a=>{t.value.channels.voice.enabled=!t.value.channels.voice.enabled,c()})},[s("div",Dt,[e[73]||(e[73]=s("div",{class:"channel-toggle-name"},"Voice (Phone)",-1)),s("div",Wt,d((D=(H=t.value.channels)==null?void 0:H.voice)!=null&&D.enabled?"Enabled":"Click to enable"),1)])],2)]),e[76]||(e[76]=s("div",{class:"hint"},"Additional channels like SMS can be enabled later in the BUILD tab",-1))]),s("div",Ut,[s("div",{class:"collapsible-header",onClick:e[2]||(e[2]=a=>p.value=!p.value)},[e[77]||(e[77]=s("label",{style:{margin:"0",cursor:"pointer"}},"Behavior Instructions",-1)),s("span",Vt,d(p.value?"‚àí":"+"),1)]),p.value?(n(),o("div",_t,[u(s("textarea",{"onUpdate:modelValue":e[3]||(e[3]=a=>t.value.instructions=a),onInput:e[4]||(e[4]=a=>{Le()}),rows:"8",class:"input-field",placeholder:"Describe how your agent should respond..."},null,544),[[f,t.value.instructions]]),e[78]||(e[78]=s("div",{class:"hint"},"Pre-filled based on your template. Edit to customize behavior.",-1))])):i("",!0)]),s("div",{class:"wizard-step-navigation"},[s("button",{class:"btn-primary btn-block",onClick:Fe}," Next: Add Knowledge ‚Üí ")])]),s("div",Nt,[s("div",zt,[s("div",Et,[e[81]||(e[81]=s("h3",null,"Try it now!",-1)),h.value.length>0?(n(),o("button",{key:0,class:"btn-reset-chat",onClick:Le},"Reset Chat")):i("",!0)]),e[85]||(e[85]=s("div",{class:"test-info-notice"},[s("div",{class:"notice-icon"},"‚ÑπÔ∏è"),s("div",{class:"notice-text"},[s("strong",null,"Using template data:"),M(" Responses are based on placeholder info. Customize this data in the next step to match your business. ")])],-1)),s("div",{class:"test-chat-container",ref_key:"testChatContainer",ref:de},[h.value.length===0?(n(),o("div",Rt,[...e[82]||(e[82]=[s("p",null,"üëã Test your agent by sending a message",-1)])])):i("",!0),(n(!0),o(W,null,z(h.value,(a,C)=>(n(),o("div",{key:C,class:x(["test-message",a.role])},[s("div",Ht,d(a.content),1)],2))),128)),Q.value?(n(),o("div",Bt,[...e[83]||(e[83]=[s("div",{class:"message-bubble thinking"},[s("span",{class:"typing-dot"}),s("span",{class:"typing-dot"}),s("span",{class:"typing-dot"})],-1)])])):i("",!0)],512),s("div",Lt,[u(s("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>T.value=a),onKeyup:Ye(Be,["enter"]),type:"text",class:"test-input",placeholder:"Type your message...",disabled:Q.value},null,40,Ft),[[f,T.value]]),s("button",{onClick:Be,class:"btn-send",disabled:!T.value.trim()||Q.value}," Send ",8,Kt)]),s("div",Ot,[e[84]||(e[84]=s("p",{class:"suggestions-label"},"Try asking:",-1)),(n(!0),o(W,null,z(Qe.value,(a,C)=>(n(),o("button",{key:C,class:"suggestion-button",onClick:re=>T.value=a,disabled:Q.value},d(a),9,qt))),128))])])])])):i("",!0),$.value===2?(n(),o("div",Jt,[e[92]||(e[92]=s("h2",null,[M("Add knowledge "),s("span",{class:"optional-badge"},"(Optional)")],-1)),e[93]||(e[93]=s("p",{class:"wizard-step-description"},"Add information your agent can reference when answering questions",-1)),s("div",Yt,[s("button",{class:x(["knowledge-tab",{active:K.value==="text"}]),onClick:e[6]||(e[6]=a=>K.value="text")}," Text Content ",2),s("button",{class:x(["knowledge-tab",{active:K.value==="documents"}]),onClick:e[7]||(e[7]=a=>K.value="documents")}," Documents ",2),s("button",{class:x(["knowledge-tab",{active:K.value==="website"}]),onClick:e[8]||(e[8]=a=>K.value="website")}," Website ",2)]),K.value==="text"?(n(),o("div",Gt,[s("div",Qt,[e[86]||(e[86]=s("label",null,"Knowledge Base Content",-1)),u(s("textarea",{"onUpdate:modelValue":e[9]||(e[9]=a=>G.value=a),onInput:c,rows:"10",class:"input-field knowledge-textarea",placeholder:`Add your company information, FAQs, policies, product details...

Example:
Company: Acme Inc.
Support Hours: Mon-Fri, 9 AM - 5 PM EST

Products:
- Widget Pro: Enterprise solution for businesses
- Widget Lite: Perfect for individual users

Policies:
- Returns: 30-day money-back guarantee
- Shipping: Free on orders over $50`},null,544),[[f,G.value]]),e[87]||(e[87]=s("div",{class:"hint"},"Pre-filled with template data. Edit to match your business.",-1))])])):i("",!0),K.value==="documents"?(n(),o("div",jt,[...e[88]||(e[88]=[j('<div class="upload-area" data-v-ad7f2608><div class="upload-icon" data-v-ad7f2608>üìÑ</div><h3 data-v-ad7f2608>Upload documents</h3><p data-v-ad7f2608>Add PDFs, Word docs, or text files for your agent to learn from</p><button class="btn-secondary" data-v-ad7f2608>Choose Files</button><div class="upload-hint" data-v-ad7f2608>Supported: PDF, DOCX, TXT, CSV (Max 10MB each)</div></div><div class="feature-note" data-v-ad7f2608><p data-v-ad7f2608><strong data-v-ad7f2608>Note:</strong> Document upload will be functional after completing the wizard. For now, you can add text content or website URLs.</p></div>',2)])])):i("",!0),K.value==="website"?(n(),o("div",Xt,[s("div",Zt,[e[89]||(e[89]=s("label",null,"Website URL",-1)),u(s("input",{"onUpdate:modelValue":e[10]||(e[10]=a=>O.value=a),type:"url",class:"input-field",placeholder:"https://yourcompany.com/help"},null,512),[[f,O.value]]),e[90]||(e[90]=s("div",{class:"hint"},"We'll automatically sync content from this website",-1))]),s("button",{class:"btn-secondary",onClick:gs,disabled:!O.value.trim()}," Add Website ",8,ea),v.value.length>0?(n(),o("div",sa,[e[91]||(e[91]=s("h4",null,"Added Websites",-1)),(n(!0),o(W,null,z(v.value,(a,C)=>(n(),o("div",{key:C,class:"website-item"},[s("span",ta,d(a),1),s("button",{class:"btn-remove",onClick:re=>fs(C)},"√ó",8,aa)]))),128))])):i("",!0)])):i("",!0),e[94]||(e[94]=s("div",{class:"wizard-skip-note"},[s("p",null,[s("strong",null,"Skip for now?"),M(" You can add more knowledge later from the Knowledge section.")])],-1))])):i("",!0),$.value>pe.value?(n(),o("div",na,[...e[95]||(e[95]=[j('<h2 data-v-ad7f2608>You&#39;re all set!</h2><p class="wizard-step-description" data-v-ad7f2608>Your agent is ready to test. Let&#39;s make sure it works as expected.</p><div class="wizard-next-steps" data-v-ad7f2608><div class="next-step-card" data-v-ad7f2608><div class="step-number" data-v-ad7f2608>1</div><div class="step-content" data-v-ad7f2608><h4 data-v-ad7f2608>Test your agent</h4><p data-v-ad7f2608>Create test scenarios and validate responses</p></div></div><div class="next-step-card" data-v-ad7f2608><div class="step-number" data-v-ad7f2608>2</div><div class="step-content" data-v-ad7f2608><h4 data-v-ad7f2608>Deploy when ready</h4><p data-v-ad7f2608>Review configuration and publish to go live</p></div></div></div>',3)])])):i("",!0)]),$.value!==1?(n(),o("div",oa,[$.value>1?(n(),o("button",{key:0,class:"btn-secondary",onClick:hs}," ‚Üê Back ")):i("",!0),$.value<=pe.value?(n(),o("button",{key:1,class:"btn-primary",onClick:Fe},d($.value===pe.value?"Complete Setup ‚Üí":"Next ‚Üí"),1)):(n(),o("button",{key:2,class:"btn-primary",onClick:Ke}," Go to Testing ‚Üí "))])):i("",!0)])):(n(),o(W,{key:1},[s("div",la,[(n(!0),o(W,null,z(_e.value,a=>(n(),o("div",{key:a.id,class:x(["section-nav-item",{active:ce.value===a.id}]),onClick:C=>Ze(a.id)},d(a.label),11,ia))),128))]),s("div",{class:"build-main",ref_key:"buildMainContent",ref:ge},[t.value.status==="live"?(n(),o("div",da,[e[97]||(e[97]=s("div",{class:"warning-icon"},"‚ÑπÔ∏è",-1)),s("div",ua,[s("strong",null,"Editing Live Agent "+d(t.value.version||"v1.0"),1),e[96]||(e[96]=s("p",null,'Changes are auto-saved as a draft. Click "Publish Update" when ready to deploy changes to live users.',-1))])])):i("",!0),t.value.status==="draft"&&t.value.needsWizard!==!1?(n(),o("div",ra,[e[98]||(e[98]=s("span",null,"Need help getting started?",-1)),s("button",{class:"btn-link",onClick:bs},"Switch to Wizard Mode")])):i("",!0),s("div",ca,[e[102]||(e[102]=s("h3",null,"Configuration",-1)),s("div",va,[e[99]||(e[99]=s("label",null,"Agent Name",-1)),u(s("input",{"onUpdate:modelValue":e[11]||(e[11]=a=>t.value.name=a),onInput:c,type:"text",class:"input-field"},null,544),[[f,t.value.name]])]),s("div",pa,[e[100]||(e[100]=s("label",null,"Behavior Instructions",-1)),u(s("textarea",{"onUpdate:modelValue":e[12]||(e[12]=a=>t.value.instructions=a),onInput:c,rows:"6",class:"input-field"},null,544),[[f,t.value.instructions]]),e[101]||(e[101]=s("div",{class:"hint"},"Guide how your agent should respond to customers",-1))])]),s("div",ga,[e[111]||(e[111]=s("h3",null,"Knowledge Base",-1)),e[112]||(e[112]=s("p",{class:"section-intro"},"Select which knowledge sources this agent can access",-1)),s("div",fa,[e[104]||(e[104]=s("p",{class:"knowledge-intro"}," Knowledge is managed centrally. Select the sources you want this agent to use. ",-1)),$e(m,{to:"/knowledge-v2",class:"btn-secondary"},{default:Pe(()=>[...e[103]||(e[103]=[M(" Manage Knowledge Sources ‚Üí ",-1)])]),_:1})]),s("div",ma,[N.value.textContent?(n(),o("div",ha,[s("div",ya,[s("label",ba,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[13]||(e[13]=a=>t.value.knowledgeSources.textContent=a),onChange:c},null,544),[[B,t.value.knowledgeSources.textContent]]),e[105]||(e[105]=s("span",{class:"checkbox-text"},"Text Content",-1))])]),s("div",wa,[s("span",ka,d(N.value.textContent.size),1)])])):i("",!0),N.value.documents.length>0?(n(),o("div",Ca,[s("div",Sa,[s("label",Ta,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[14]||(e[14]=a=>t.value.knowledgeSources.documents=a),onChange:c},null,544),[[B,t.value.knowledgeSources.documents]]),e[106]||(e[106]=s("span",{class:"checkbox-text"},"Documents",-1))])]),s("div",xa,[s("span",Ma,d(N.value.documents.length)+" "+d(N.value.documents.length===1?"file":"files"),1)])])):i("",!0),N.value.websites.length>0?(n(),o("div",Ia,[s("div",Aa,[s("label",$a,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[15]||(e[15]=a=>t.value.knowledgeSources.websites=a),onChange:c},null,544),[[B,t.value.knowledgeSources.websites]]),e[107]||(e[107]=s("span",{class:"checkbox-text"},"Website Content",-1))])]),s("div",Pa,[s("span",Da,d(N.value.websites.length)+" "+d(N.value.websites.length===1?"site":"sites"),1)])])):i("",!0),N.value.conversations.enabled?(n(),o("div",Wa,[s("div",Ua,[s("label",Va,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[16]||(e[16]=a=>t.value.knowledgeSources.conversations=a),onChange:c},null,544),[[B,t.value.knowledgeSources.conversations]]),e[108]||(e[108]=s("span",{class:"checkbox-text"},"Conversation Insights",-1))])]),s("div",_a,[s("span",Na,d(N.value.conversations.count)+" conversations",1)])])):i("",!0),Xe.value?i("",!0):(n(),o("div",za,[e[110]||(e[110]=s("p",null,"No knowledge sources available yet.",-1)),$e(m,{to:"/knowledge-v2",class:"link"},{default:Pe(()=>[...e[109]||(e[109]=[M("Add knowledge sources ‚Üí",-1)])]),_:1})]))])]),s("div",Ea,[e[115]||(e[115]=s("h3",null,"Skills",-1)),s("div",Ra,[t.value.skills&&t.value.skills.length>0?(n(),o("div",Ha,[(n(!0),o(W,null,z(t.value.skills,a=>(n(),o("div",{key:a.id,class:x(["skill-item",{"needs-config":!a.mcpServer}])},[s("div",Ba,[s("div",La,[s("div",Fa,d(a.name),1),a.mcpServer?i("",!0):(n(),o("span",Ka,"Needs Configuration"))]),s("div",Oa,d(a.description),1),a.mcpServer?(n(),o("div",qa," Connected: "+d(a.mcpServer),1)):i("",!0)]),s("div",Ja,[a.mcpServer?(n(),o("button",{key:1,class:"btn-secondary btn-sm",onClick:C=>cs(a)},"Test",8,Ga)):(n(),o("button",{key:0,class:"btn-secondary btn-sm",onClick:C=>ks(a)},"Configure",8,Ya)),s("label",Qa,[u(s("input",{type:"checkbox","onUpdate:modelValue":C=>a.enabled=C,onChange:c},null,40,ja),[[B,a.enabled]]),e[113]||(e[113]=s("span",{class:"toggle-slider"},null,-1))])])],2))),128))])):(n(),o("div",Xa,[...e[114]||(e[114]=[s("div",{class:"empty-title"},"No Skills Configured",-1),s("p",{class:"empty-desc"},"Skills extend your agent's capabilities beyond answering questions. Add skills to perform actions like checking order status, booking appointments, or looking up account information.",-1)])])),s("button",{class:"btn-add",onClick:ws},"+ Add Skill")])]),s("div",Za,[e[175]||(e[175]=s("h3",null,"Channels & Integrations",-1)),e[176]||(e[176]=s("p",{class:"section-intro"},"Enable and configure where your agent is available",-1)),s("div",en,[s("div",sn,[e[117]||(e[117]=s("div",{class:"channel-info"},[s("h4",null,"Web Chat"),s("p",{class:"channel-description"},"Embedded chat widget on your website")],-1)),s("label",tn,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[17]||(e[17]=a=>t.value.channels.webChat.enabled=a),onChange:c},null,544),[[B,t.value.channels.webChat.enabled]]),e[116]||(e[116]=s("span",{class:"toggle-slider"},null,-1))])]),t.value.channels.webChat.enabled?(n(),o("div",an,[s("div",nn,[s("div",{class:"collapsible-header",onClick:e[18]||(e[18]=a=>he("chatMessages"))},[e[118]||(e[118]=s("span",{class:"section-title"},"Messages & Greetings",-1)),s("span",{class:x(["chevron",{expanded:q.value.chatMessages}])},"‚Ä∫",2)]),q.value.chatMessages?(n(),o("div",on,[s("div",ln,[e[119]||(e[119]=s("label",null,"Welcome Message",-1)),u(s("textarea",{"onUpdate:modelValue":e[19]||(e[19]=a=>t.value.channels.webChat.welcomeMessage=a),onInput:c,rows:"2",class:"input-field",placeholder:"Hi! How can I help you today?"},null,544),[[f,t.value.channels.webChat.welcomeMessage]]),e[120]||(e[120]=s("div",{class:"hint"},"First message when the chat widget opens",-1))]),s("div",dn,[s("label",null,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[20]||(e[20]=a=>t.value.channels.webChat.enableProactive=a),onChange:c},null,544),[[B,t.value.channels.webChat.enableProactive]]),e[121]||(e[121]=M(" Enable Proactive Greeting ",-1))]),t.value.channels.webChat.enableProactive?u((n(),o("textarea",{key:0,"onUpdate:modelValue":e[21]||(e[21]=a=>t.value.channels.webChat.proactiveMessage=a),onInput:c,rows:"2",class:"input-field",placeholder:"üëã Need help? I'm here to assist!"},null,544)),[[f,t.value.channels.webChat.proactiveMessage]]):i("",!0),e[122]||(e[122]=s("div",{class:"hint"},"Auto-popup message to engage visitors",-1))]),s("div",un,[e[123]||(e[123]=s("label",null,"Expected Response Time",-1)),u(s("input",{"onUpdate:modelValue":e[22]||(e[22]=a=>t.value.channels.webChat.responseTime=a),onInput:c,type:"text",class:"input-field",placeholder:"Usually replies in 2 minutes"},null,544),[[f,t.value.channels.webChat.responseTime]]),e[124]||(e[124]=s("div",{class:"hint"},"Set customer expectations",-1))]),s("div",rn,[s("label",null,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[23]||(e[23]=a=>t.value.channels.webChat.showTypingIndicator=a),onChange:c},null,544),[[B,t.value.channels.webChat.showTypingIndicator]]),e[125]||(e[125]=M(" Show Typing Indicator ",-1))]),e[126]||(e[126]=s("div",{class:"hint"},'Show "..." when agent is typing',-1))]),s("div",cn,[e[127]||(e[127]=s("label",null,"Away Message",-1)),u(s("textarea",{"onUpdate:modelValue":e[24]||(e[24]=a=>t.value.channels.webChat.awayMessage=a),onInput:c,rows:"2",class:"input-field",placeholder:"Let me look that up for you..."},null,544),[[f,t.value.channels.webChat.awayMessage]]),e[128]||(e[128]=s("div",{class:"hint"},"Message shown when agent is processing",-1))])])):i("",!0)]),s("div",vn,[s("div",{class:"collapsible-header",onClick:e[25]||(e[25]=a=>he("chatAvailability"))},[e[129]||(e[129]=s("span",{class:"section-title"},"Availability & Hours",-1)),s("span",{class:x(["chevron",{expanded:q.value.chatAvailability}])},"‚Ä∫",2)]),q.value.chatAvailability?(n(),o("div",pn,[s("div",gn,[e[130]||(e[130]=s("label",null,"Business Hours",-1)),u(s("input",{"onUpdate:modelValue":e[26]||(e[26]=a=>t.value.channels.webChat.businessHours=a),onInput:c,type:"text",class:"input-field",placeholder:"Monday-Friday, 9 AM - 5 PM EST"},null,544),[[f,t.value.channels.webChat.businessHours]]),e[131]||(e[131]=s("div",{class:"hint"},"When is the agent available?",-1))]),s("div",fn,[e[133]||(e[133]=s("label",null,"Offline Behavior",-1)),u(s("select",{"onUpdate:modelValue":e[27]||(e[27]=a=>t.value.channels.webChat.offlineBehavior=a),onChange:c,class:"input-field"},[...e[132]||(e[132]=[s("option",{value:"show-message"},"Show offline message",-1),s("option",{value:"collect-email"},"Collect email for follow-up",-1),s("option",{value:"always-on"},"Always available (24/7)",-1)])],544),[[te,t.value.channels.webChat.offlineBehavior]])]),t.value.channels.webChat.offlineBehavior!=="always-on"?(n(),o("div",mn,[e[134]||(e[134]=s("label",null,"Offline Message",-1)),u(s("textarea",{"onUpdate:modelValue":e[28]||(e[28]=a=>t.value.channels.webChat.offlineMessage=a),onInput:c,rows:"2",class:"input-field",placeholder:"We're currently offline. Leave your email and we'll get back to you!"},null,544),[[f,t.value.channels.webChat.offlineMessage]])])):i("",!0),s("div",hn,[e[135]||(e[135]=s("label",null,"Auto-away Timeout (minutes)",-1)),u(s("input",{"onUpdate:modelValue":e[29]||(e[29]=a=>t.value.channels.webChat.autoAwayTimeout=a),onInput:c,type:"number",class:"input-field",placeholder:"5"},null,544),[[f,t.value.channels.webChat.autoAwayTimeout]]),e[136]||(e[136]=s("div",{class:"hint"},"Mark as away after inactivity",-1))])])):i("",!0)]),s("div",yn,[s("div",{class:"collapsible-header",onClick:e[30]||(e[30]=a=>he("chatEscalation"))},[e[137]||(e[137]=s("span",{class:"section-title"},"Escalation & Handoff",-1)),s("span",{class:x(["chevron",{expanded:q.value.chatEscalation}])},"‚Ä∫",2)]),q.value.chatEscalation?(n(),o("div",bn,[s("div",wn,[e[138]||(e[138]=s("label",null,"Transfer Conditions",-1)),u(s("textarea",{"onUpdate:modelValue":e[31]||(e[31]=a=>t.value.channels.webChat.transferConditions=a),onInput:c,rows:"3",class:"input-field",placeholder:"e.g., Transfer if customer asks for human agent, mentions refund, or expresses frustration"},null,544),[[f,t.value.channels.webChat.transferConditions]]),e[139]||(e[139]=s("div",{class:"hint"},"When should the agent transfer to a human?",-1))]),s("div",kn,[e[141]||(e[141]=s("label",null,"Transfer Destination",-1)),u(s("select",{"onUpdate:modelValue":e[32]||(e[32]=a=>t.value.channels.webChat.transferDestination=a),onChange:c,class:"input-field"},[...e[140]||(e[140]=[j('<option value="" data-v-ad7f2608>Select destination</option><option value="support-queue" data-v-ad7f2608>Support Queue</option><option value="sales-queue" data-v-ad7f2608>Sales Queue</option><option value="technical-queue" data-v-ad7f2608>Technical Queue</option><option value="manager-queue" data-v-ad7f2608>Manager Queue</option>',5)])],544),[[te,t.value.channels.webChat.transferDestination]])]),s("div",Cn,[e[142]||(e[142]=s("label",null,"Handoff Message",-1)),u(s("textarea",{"onUpdate:modelValue":e[33]||(e[33]=a=>t.value.channels.webChat.handoffMessage=a),onInput:c,rows:"2",class:"input-field",placeholder:"Let me connect you with a team member who can help..."},null,544),[[f,t.value.channels.webChat.handoffMessage]]),e[143]||(e[143]=s("div",{class:"hint"},"What the user sees during transfer",-1))]),s("div",Sn,[e[144]||(e[144]=s("label",null,"Context to Transfer",-1)),u(s("textarea",{"onUpdate:modelValue":e[34]||(e[34]=a=>t.value.channels.webChat.contextToTransfer=a),onInput:c,rows:"2",class:"input-field",placeholder:"Full conversation history, user info, detected intent"},null,544),[[f,t.value.channels.webChat.contextToTransfer]]),e[145]||(e[145]=s("div",{class:"hint"},"What information to pass to the human agent",-1))]),s("div",Tn,[s("label",null,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[35]||(e[35]=a=>t.value.channels.webChat.enableTranscript=a),onChange:c},null,544),[[B,t.value.channels.webChat.enableTranscript]]),e[146]||(e[146]=M(" Enable Email Transcript ",-1))]),e[147]||(e[147]=s("div",{class:"hint"},"Send chat history to customer via email",-1))])])):i("",!0)]),s("div",xn,[s("div",{class:"collapsible-header",onClick:e[36]||(e[36]=a=>he("chatAppearance"))},[e[148]||(e[148]=s("span",{class:"section-title"},"Widget Appearance",-1)),s("span",{class:x(["chevron",{expanded:q.value.chatAppearance}])},"‚Ä∫",2)]),q.value.chatAppearance?(n(),o("div",Mn,[s("div",In,[e[149]||(e[149]=s("label",null,"Primary Color",-1)),s("div",An,[u(s("input",{"onUpdate:modelValue":e[37]||(e[37]=a=>t.value.channels.webChat.primaryColor=a),onInput:c,type:"color",class:"color-input"},null,544),[[f,t.value.channels.webChat.primaryColor]]),u(s("input",{"onUpdate:modelValue":e[38]||(e[38]=a=>t.value.channels.webChat.primaryColor=a),onInput:c,type:"text",class:"input-field color-text",placeholder:"#6366f1"},null,544),[[f,t.value.channels.webChat.primaryColor]])]),e[150]||(e[150]=s("div",{class:"hint"},"Main color for the chat widget",-1))]),s("div",$n,[e[152]||(e[152]=s("label",null,"Widget Position",-1)),u(s("select",{"onUpdate:modelValue":e[39]||(e[39]=a=>t.value.channels.webChat.widgetPosition=a),onChange:c,class:"input-field"},[...e[151]||(e[151]=[s("option",{value:"bottom-right"},"Bottom Right",-1),s("option",{value:"bottom-left"},"Bottom Left",-1),s("option",{value:"top-right"},"Top Right",-1),s("option",{value:"top-left"},"Top Left",-1)])],544),[[te,t.value.channels.webChat.widgetPosition]])]),s("div",Pn,[e[153]||(e[153]=s("label",null,"Agent Display Name",-1)),u(s("input",{"onUpdate:modelValue":e[40]||(e[40]=a=>t.value.channels.webChat.displayName=a),onInput:c,type:"text",class:"input-field",placeholder:"Support Assistant"},null,544),[[f,t.value.channels.webChat.displayName]]),e[154]||(e[154]=s("div",{class:"hint"},"Name shown to customers in the chat widget",-1))]),s("div",Dn,[e[156]||(e[156]=s("label",null,"Widget Size",-1)),u(s("select",{"onUpdate:modelValue":e[41]||(e[41]=a=>t.value.channels.webChat.widgetSize=a),onChange:c,class:"input-field"},[...e[155]||(e[155]=[s("option",{value:"compact"},"Compact",-1),s("option",{value:"standard"},"Standard",-1),s("option",{value:"large"},"Large",-1)])],544),[[te,t.value.channels.webChat.widgetSize]])])])):i("",!0)])])):i("",!0)]),s("div",Wn,[s("div",Un,[e[158]||(e[158]=s("div",{class:"channel-info"},[s("h4",null,"Voice (Phone Calls)"),s("p",{class:"channel-description"},"Inbound and outbound phone conversations")],-1)),s("label",Vn,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[42]||(e[42]=a=>t.value.channels.voice.enabled=a),onChange:c},null,544),[[B,t.value.channels.voice.enabled]]),e[157]||(e[157]=s("span",{class:"toggle-slider"},null,-1))])]),t.value.channels.voice.enabled?(n(),o("div",_n,[s("div",Nn,[e[159]||(e[159]=s("label",null,"Phone Number",-1)),u(s("input",{"onUpdate:modelValue":e[43]||(e[43]=a=>t.value.channels.voice.phoneNumber=a),onInput:c,type:"text",class:"input-field",placeholder:"+1 (555) 000-0000"},null,544),[[f,t.value.channels.voice.phoneNumber]]),e[160]||(e[160]=s("div",{class:"hint"},"Get a phone number for your agent",-1))]),s("div",zn,[e[162]||(e[162]=s("label",null,"Voice Type",-1)),u(s("select",{"onUpdate:modelValue":e[44]||(e[44]=a=>t.value.channels.voice.voiceType=a),onChange:c,class:"input-field"},[...e[161]||(e[161]=[j('<option value="nova" data-v-ad7f2608>Nova (Female, Conversational)</option><option value="alloy" data-v-ad7f2608>Alloy (Neutral, Professional)</option><option value="echo" data-v-ad7f2608>Echo (Male, Warm)</option><option value="fable" data-v-ad7f2608>Fable (Male, Expressive)</option><option value="onyx" data-v-ad7f2608>Onyx (Male, Deep)</option><option value="shimmer" data-v-ad7f2608>Shimmer (Female, Bright)</option>',6)])],544),[[te,t.value.channels.voice.voiceType]])]),s("div",En,[e[163]||(e[163]=s("label",null,"Greeting Message",-1)),u(s("textarea",{"onUpdate:modelValue":e[45]||(e[45]=a=>t.value.channels.voice.greeting=a),onInput:c,rows:"2",class:"input-field",placeholder:"Hello! How can I assist you today?"},null,544),[[f,t.value.channels.voice.greeting]])]),s("div",Rn,[e[164]||(e[164]=s("label",null,"Ending Message",-1)),u(s("textarea",{"onUpdate:modelValue":e[46]||(e[46]=a=>t.value.channels.voice.endingMessage=a),onInput:c,rows:"2",class:"input-field",placeholder:"Thank you for calling. Have a great day!"},null,544),[[f,t.value.channels.voice.endingMessage]])]),s("div",Hn,[e[165]||(e[165]=s("label",null,"Speech Speed",-1)),u(s("input",{"onUpdate:modelValue":e[47]||(e[47]=a=>t.value.channels.voice.speechSpeed=a),onInput:c,type:"range",min:"0.5",max:"2",step:"0.1",class:"range-input"},null,544),[[f,t.value.channels.voice.speechSpeed]]),s("div",Bn,d(t.value.channels.voice.speechSpeed)+"x",1)]),s("div",Ln,[e[167]||(e[167]=s("label",null,"Language",-1)),u(s("select",{"onUpdate:modelValue":e[48]||(e[48]=a=>t.value.channels.voice.language=a),onChange:c,class:"input-field"},[...e[166]||(e[166]=[s("option",{value:"en-US"},"English (US)",-1),s("option",{value:"es-ES"},"Spanish",-1),s("option",{value:"fr-FR"},"French",-1)])],544),[[te,t.value.channels.voice.language]])])])):i("",!0)]),s("div",Fn,[s("div",Kn,[e[169]||(e[169]=s("div",{class:"channel-info"},[s("h4",null,"SMS / Text Messages"),s("p",{class:"channel-description"},"Two-way text messaging with customers")],-1)),s("label",On,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[49]||(e[49]=a=>t.value.channels.sms.enabled=a),onChange:c},null,544),[[B,t.value.channels.sms.enabled]]),e[168]||(e[168]=s("span",{class:"toggle-slider"},null,-1))])]),t.value.channels.sms.enabled?(n(),o("div",qn,[s("div",Jn,[e[170]||(e[170]=s("label",null,"SMS Number",-1)),u(s("input",{"onUpdate:modelValue":e[50]||(e[50]=a=>t.value.channels.sms.smsNumber=a),onInput:c,type:"text",class:"input-field",placeholder:"+1 (555) 987-6543"},null,544),[[f,t.value.channels.sms.smsNumber]]),e[171]||(e[171]=s("div",{class:"hint"},"Get an SMS-enabled number",-1))]),s("div",Yn,[s("label",null,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[51]||(e[51]=a=>t.value.channels.sms.autoReply=a),onChange:c},null,544),[[B,t.value.channels.sms.autoReply]]),e[172]||(e[172]=M(" Enable Auto-Reply ",-1))]),e[173]||(e[173]=s("div",{class:"hint"},"Send automatic responses to incoming texts",-1))]),t.value.channels.sms.autoReply?(n(),o("div",Gn,[e[174]||(e[174]=s("label",null,"Auto-Reply Message",-1)),u(s("textarea",{"onUpdate:modelValue":e[52]||(e[52]=a=>t.value.channels.sms.autoReplyMessage=a),onInput:c,rows:"2",class:"input-field",placeholder:"Thanks for texting! I'll respond shortly."},null,544),[[f,t.value.channels.sms.autoReplyMessage]])])):i("",!0)])):i("",!0)]),e[177]||(e[177]=j('<div class="channel-block disabled" data-v-ad7f2608><div class="channel-header" data-v-ad7f2608><div class="channel-info" data-v-ad7f2608><h4 data-v-ad7f2608>WhatsApp Business</h4><span class="coming-soon-badge" data-v-ad7f2608>Coming Soon</span></div></div></div><div class="channel-block disabled" data-v-ad7f2608><div class="channel-header" data-v-ad7f2608><div class="channel-info" data-v-ad7f2608><h4 data-v-ad7f2608>Instagram DMs</h4><span class="coming-soon-badge" data-v-ad7f2608>Coming Soon</span></div></div></div><div class="channel-block disabled" data-v-ad7f2608><div class="channel-header" data-v-ad7f2608><div class="channel-info" data-v-ad7f2608><h4 data-v-ad7f2608>Facebook Messenger</h4><span class="coming-soon-badge" data-v-ad7f2608>Coming Soon</span></div></div></div>',3))]),e[178]||(e[178]=j('<div id="conversation-flow" class="config-section build-section-anchor" data-v-ad7f2608><h3 data-v-ad7f2608>Conversation Flow</h3><p class="section-intro" data-v-ad7f2608>Advanced workflow builder for digital and voice interactions</p><div class="flow-intro-card" data-v-ad7f2608><div class="flow-intro-title" data-v-ad7f2608>Advanced Workflow Builder</div><div class="flow-features" data-v-ad7f2608><div data-v-ad7f2608>‚Ä¢ Drag-and-drop node editor</div><div data-v-ad7f2608>‚Ä¢ Digital nodes: Message, Wait, Survey, Contact Collection</div><div data-v-ad7f2608>‚Ä¢ Voice nodes: Play, Collect, Menu, Transfer</div><div data-v-ad7f2608>‚Ä¢ Shared nodes: Branch, API, Assign, Expert</div><div data-v-ad7f2608>‚Ä¢ Pre-built templates</div></div></div><div class="flow-status" data-v-ad7f2608><div class="status-label" data-v-ad7f2608>Current Flow:</div><div class="status-value" data-v-ad7f2608>Default Conversational Pattern</div></div><button class="btn-secondary" disabled data-v-ad7f2608> Open Workflow Builder (Demo) </button><div class="flow-preview" data-v-ad7f2608><div class="flow-node" data-v-ad7f2608>Start</div><div class="flow-connector" data-v-ad7f2608>‚Üí</div><div class="flow-node" data-v-ad7f2608>Greeting</div><div class="flow-connector" data-v-ad7f2608>‚Üí</div><div class="flow-node" data-v-ad7f2608>Collect Input</div><div class="flow-connector" data-v-ad7f2608>‚Üí</div><div class="flow-node" data-v-ad7f2608>Agent Processing</div><div class="flow-connector" data-v-ad7f2608>‚Üí</div><div class="flow-node" data-v-ad7f2608>End</div></div></div>',1))],512),s("div",Qn,[t.value?(n(),De(We,{key:0,agent:t.value},null,8,["agent"])):i("",!0)])],64))],2)):ye.value==="test"?(n(),o("div",jn,[s("div",Xn,[s("div",Zn,[s("div",eo,[e[179]||(e[179]=s("h3",null,"Test Scenarios",-1)),s("span",so,d(xe.value),1)]),s("div",to,[t.value.testScenarios&&t.value.testScenarios.length>0?(n(),o("button",{key:0,class:"btn-secondary",onClick:ss,disabled:ne.value},d(ne.value?"Running All Tests...":"Run All Tests"),9,ao)):i("",!0),s("button",{class:"btn-primary",onClick:e[53]||(e[53]=a=>L.value=!0)}," + Create Test ")])]),e[188]||(e[188]=s("div",{class:"test-info-banner"},[s("div",{class:"info-icon"},"‚ÑπÔ∏è"),s("div",{class:"info-text"},[s("strong",null,"Testing is free:"),M(" Test your agent as much as you want. Testing doesn't use any tokens or count toward your usage limits. ")])],-1)),!t.value.testScenarios||t.value.testScenarios.length===0?(n(),o("div",no,[e[180]||(e[180]=s("h4",null,"No Test Scenarios",-1)),e[181]||(e[181]=s("p",null,"Create test scenarios to validate your agent's responses with keyword checking",-1)),s("button",{class:"btn-primary",onClick:e[54]||(e[54]=a=>L.value=!0)}," + Create First Test ")])):(n(),o("div",oo,[(n(!0),o(W,null,z(t.value.testScenarios,a=>{var C,re,qe,Je;return n(),o("div",{key:a.id,class:"scenario-card"},[s("div",lo,[s("div",io,d(a.name),1),s("button",{class:x(["scenario-run-btn",{running:F.value[a.id],passed:((C=I.value[a.id])==null?void 0:C.passed)===!0,failed:((re=I.value[a.id])==null?void 0:re.passed)===!1}]),onClick:wl=>Ee(a),disabled:F.value[a.id]},[F.value[a.id]?(n(),o("span",ro,[...e[182]||(e[182]=[M(" Running",-1),s("span",{class:"loading-dots"},"...",-1)])])):((qe=I.value[a.id])==null?void 0:qe.passed)===!0?(n(),o("span",co," ‚úì Passed ")):((Je=I.value[a.id])==null?void 0:Je.passed)===!1?(n(),o("span",vo," ‚úó Failed ")):(n(),o("span",po,"Run Test"))],10,uo)]),s("div",go,[e[183]||(e[183]=s("strong",null,"Prompt:",-1)),M(" "+d(a.prompt),1)]),s("div",fo,[e[184]||(e[184]=s("strong",null,"Expected Keywords:",-1)),s("span",mo,d(a.expectedKeywords.join(", ")),1)]),I.value[a.id]?(n(),o("div",ho,[s("div",yo,[e[185]||(e[185]=s("strong",null,"Agent Response:",-1)),s("p",null,d(I.value[a.id].response),1)]),I.value[a.id].matchedKeywords.length>0?(n(),o("div",bo,[e[186]||(e[186]=s("strong",null,"‚úì Matched Keywords:",-1)),s("span",wo,d(I.value[a.id].matchedKeywords.join(", ")),1)])):i("",!0),I.value[a.id].missingKeywords.length>0?(n(),o("div",ko,[e[187]||(e[187]=s("strong",null,"‚úó Missing Keywords:",-1)),s("span",Co,d(I.value[a.id].missingKeywords.join(", ")),1)])):i("",!0)])):i("",!0)])}),128))]))]),s("div",So,[t.value?(n(),De(We,{key:0,agent:t.value},null,8,["agent"])):i("",!0)])])):ye.value==="monitor"?(n(),o("div",To,[s("div",xo,[t.value.status==="live"?(n(),o("div",Mo,[e[192]||(e[192]=j('<h3 data-v-ad7f2608>Live Performance Dashboard</h3><div class="metrics-grid" data-v-ad7f2608><div class="metric-card" data-v-ad7f2608><div class="metric-label" data-v-ad7f2608>Total Conversations</div><div class="metric-value" data-v-ad7f2608>247</div><div class="metric-change positive" data-v-ad7f2608>‚Üë 12% this week</div></div><div class="metric-card" data-v-ad7f2608><div class="metric-label" data-v-ad7f2608>Deflection Rate</div><div class="metric-value" data-v-ad7f2608>78%</div><div class="metric-change positive" data-v-ad7f2608>‚Üë 5% this week</div></div><div class="metric-card" data-v-ad7f2608><div class="metric-label" data-v-ad7f2608>Avg Response Time</div><div class="metric-value" data-v-ad7f2608>1.2s</div><div class="metric-change positive" data-v-ad7f2608>‚Üì 0.3s improvement</div></div><div class="metric-card" data-v-ad7f2608><div class="metric-label" data-v-ad7f2608>Customer Satisfaction</div><div class="metric-value" data-v-ad7f2608>4.6/5</div><div class="metric-change" data-v-ad7f2608>‚≠ê Based on 89 ratings</div></div></div>',2)),s("div",Io,[e[190]||(e[190]=s("div",{class:"status-indicator"},null,-1)),s("div",Ao,[e[189]||(e[189]=s("div",{class:"status-title"},"Agent is Live",-1)),s("div",$o,"Published "+d(Oe(t.value.lastPublishedDate)),1)]),s("div",Po,[(n(!0),o(W,null,z(Me.value,(a,C)=>(n(),o("span",{key:C,class:"active-channel-badge"},d(a),1))),128))])]),s("div",Do,[e[191]||(e[191]=s("h4",null,"Recent Conversations",-1)),s("div",Wo,[(n(!0),o(W,null,z(je.value,a=>(n(),o("div",{key:a.id,class:"conversation-item"},[s("div",Uo,[s("div",{class:x(["conv-channel-badge",a.channel])},d(a.channel),3),s("div",Vo,d(a.time),1)]),s("div",_o,d(a.user),1),s("div",No,d(a.summary),1),s("div",zo,[s("span",Eo,d(a.duration),1),s("span",{class:x(["conv-status",a.resolved?"resolved":"escalated"])},d(a.resolved?"Resolved":"Escalated"),3)])]))),128))])])])):(n(),o("div",Ro,[s("div",{class:"draft-state-card"},[e[193]||(e[193]=s("h3",null,"Agent Not Published",-1)),e[194]||(e[194]=s("p",null,"This agent is currently in draft mode. Publish it to start accepting conversations and see performance metrics here.",-1)),s("button",{class:"btn-primary",onClick:Re},"Review & Deploy")]),t.value.hasBeenPublished?(n(),o("div",Ho,[e[195]||(e[195]=s("h4",null,"Historical Data",-1)),s("p",Bo,"Last published: "+d(Oe(t.value.lastPublishedDate)),1),e[196]||(e[196]=j('<div class="metrics-grid" data-v-ad7f2608><div class="metric-card historical" data-v-ad7f2608><div class="metric-label" data-v-ad7f2608>Total Conversations</div><div class="metric-value" data-v-ad7f2608>247</div><div class="metric-change" data-v-ad7f2608>While agent was live</div></div><div class="metric-card historical" data-v-ad7f2608><div class="metric-label" data-v-ad7f2608>Deflection Rate</div><div class="metric-value" data-v-ad7f2608>78%</div><div class="metric-change" data-v-ad7f2608>Historical average</div></div><div class="metric-card historical" data-v-ad7f2608><div class="metric-label" data-v-ad7f2608>Avg Response Time</div><div class="metric-value" data-v-ad7f2608>1.2s</div><div class="metric-change" data-v-ad7f2608>Historical average</div></div><div class="metric-card historical" data-v-ad7f2608><div class="metric-label" data-v-ad7f2608>Customer Satisfaction</div><div class="metric-value" data-v-ad7f2608>4.6/5</div><div class="metric-change" data-v-ad7f2608>‚≠ê Historical average</div></div></div>',1))])):i("",!0)]))]),s("div",Lo,[t.value?(n(),De(We,{key:0,agent:t.value},null,8,["agent"])):i("",!0)])])):i("",!0)])])):(n(),o("div",at,[e[69]||(e[69]=s("p",null,"Agent not found",-1)),$e(m,{to:"/onboarding-v2",class:"btn-primary"},{default:Pe(()=>[...e[68]||(e[68]=[M("Create New Agent",-1)])]),_:1})])),L.value?(n(),o("div",{key:2,class:"modal-overlay",onClick:me(be,["self"])},[s("div",Fo,[s("div",{class:"modal-header"},[e[197]||(e[197]=s("h3",null,"Create Test Scenario",-1)),s("button",{class:"modal-close",onClick:be},"√ó")]),s("div",Ko,[s("div",Oo,[e[198]||(e[198]=s("label",null,[M("Test Name "),s("span",{class:"required"},"*")],-1)),u(s("input",{"onUpdate:modelValue":e[55]||(e[55]=a=>S.value.name=a),type:"text",class:"input-field",placeholder:"e.g., Check Business Hours"},null,512),[[f,S.value.name]])]),s("div",qo,[e[199]||(e[199]=s("label",null,[M("Test Prompt "),s("span",{class:"required"},"*")],-1)),u(s("textarea",{"onUpdate:modelValue":e[56]||(e[56]=a=>S.value.prompt=a),rows:"3",class:"input-field",placeholder:"What message should be sent to the agent?"},null,512),[[f,S.value.prompt]]),e[200]||(e[200]=s("div",{class:"hint"},"This is what gets sent to your agent",-1))]),s("div",Jo,[e[201]||(e[201]=s("label",null,"Expected Keywords (comma-separated)",-1)),u(s("input",{"onUpdate:modelValue":e[57]||(e[57]=a=>S.value.keywords=a),type:"text",class:"input-field",placeholder:"e.g., monday, friday, 9am, 5pm"},null,512),[[f,S.value.keywords]]),e[202]||(e[202]=s("div",{class:"hint"},"The agent's response should contain these keywords",-1))]),s("div",Yo,[e[204]||(e[204]=s("label",null,"Pass Criteria",-1)),u(s("select",{"onUpdate:modelValue":e[58]||(e[58]=a=>S.value.passCriteria=a),class:"input-field"},[...e[203]||(e[203]=[s("option",{value:"contains-all"},"Contains all keywords",-1),s("option",{value:"contains-any"},"Contains any keyword",-1),s("option",{value:"response-time"},"Response time < 2s",-1)])],512),[[te,S.value.passCriteria]])])]),s("div",Go,[s("button",{class:"btn-secondary",onClick:be},"Cancel"),s("button",{class:"btn-primary",onClick:es,disabled:!S.value.name||!S.value.prompt}," Create Test ",8,Qo)])])])):i("",!0),oe.value?(n(),o("div",{key:3,class:"modal-overlay",onClick:Ae},[s("div",{class:"modal-dialog modal-sm",onClick:e[59]||(e[59]=me(()=>{},["stop"]))},[s("div",{class:"modal-header"},[e[205]||(e[205]=s("h2",null,"Delete Agent?",-1)),s("button",{class:"modal-close",onClick:Ae},"√ó")]),s("div",jo,[s("p",null,[e[206]||(e[206]=M("Are you sure you want to delete ",-1)),s("strong",null,d((g=t.value)==null?void 0:g.name),1),e[207]||(e[207]=M("?",-1))]),e[208]||(e[208]=s("p",{class:"warning-text"},"This action cannot be undone.",-1))]),s("div",{class:"modal-footer"},[s("button",{class:"btn-secondary",onClick:Ae},"Cancel"),s("button",{class:"btn-primary btn-danger",onClick:rs},"Delete Agent")])])])):i("",!0),V.value?(n(),o("div",{key:4,class:"modal-overlay",onClick:Ie},[s("div",{class:"modal-dialog modal-md",onClick:e[60]||(e[60]=me(()=>{},["stop"]))},[s("div",{class:"modal-header"},[e[209]||(e[209]=s("h2",null,"Duplicate Agent",-1)),s("button",{class:"modal-close",onClick:Ie},"√ó")]),s("div",Xo,[s("p",Zo,[e[210]||(e[210]=M("Choose how you want to duplicate ",-1)),s("strong",null,d((fe=t.value)==null?void 0:fe.name),1),e[211]||(e[211]=M(":",-1))]),s("div",el,[s("div",{class:"duplicate-option",onClick:ls},[s("div",sl,[e[212]||(e[212]=s("div",{class:"option-title"},"Duplicate (Same Channel)",-1)),s("div",tl,"Creates an exact copy with the same channel type ("+d(xe.value)+"). All knowledge, skills, and configuration will be copied.",1)])]),((ue=t.value)==null?void 0:ue.agentType)!=="phone"?(n(),o("div",{key:0,class:"duplicate-option",onClick:is},[...e[213]||(e[213]=[s("div",{class:"option-content"},[s("div",{class:"option-title"},"Duplicate to Voice"),s("div",{class:"option-desc"},"Creates a Voice agent with the same knowledge and skills. You'll configure voice-specific settings like greetings and phone number.")],-1)])])):i("",!0),((se=t.value)==null?void 0:se.agentType)!=="chat"?(n(),o("div",{key:1,class:"duplicate-option",onClick:ds},[...e[214]||(e[214]=[s("div",{class:"option-content"},[s("div",{class:"option-title"},"Duplicate to Chat"),s("div",{class:"option-desc"},"Creates a Chat agent with the same knowledge and skills. You'll configure chat widget appearance and behavior.")],-1)])])):i("",!0)])]),s("div",{class:"modal-footer"},[s("button",{class:"btn-secondary",onClick:Ie},"Cancel")])])])):i("",!0),J.value?(n(),o("div",{key:5,class:"modal-overlay",onClick:He},[s("div",{class:"modal-dialog modal-md skill-test-modal",onClick:e[62]||(e[62]=me(()=>{},["stop"]))},[s("div",al,[s("h2",null,"Test Skill: "+d((ke=E.value)==null?void 0:ke.name),1),s("button",{class:"modal-close",onClick:He},"√ó")]),s("div",nl,[s("div",ol,[e[215]||(e[215]=s("label",null,"Test Input / Mock Data",-1)),u(s("textarea",{"onUpdate:modelValue":e[61]||(e[61]=a=>Y.value=a),class:"input-field",placeholder:'Enter test data (e.g., {"orderId": "12345"})',rows:"6"},null,512),[[f,Y.value]])]),s("button",{class:"btn-primary",onClick:vs,disabled:ve.value},d(ve.value?"Testing Skill...":"Run Test"),9,ll),R.value?(n(),o("div",il,[s("div",dl,[e[216]||(e[216]=s("span",null,"Result",-1)),s("span",{class:x(["result-status",R.value.status])},d(R.value.status),3)]),s("div",ul,d(R.value.output),1),R.value.logs?(n(),o("div",rl,[e[217]||(e[217]=s("div",{class:"logs-header"},"Execution Logs",-1)),s("div",cl,[(n(!0),o(W,null,z(R.value.logs,(a,C)=>(n(),o("div",{key:C,class:"log-entry"},d(a),1))),128))])])):i("",!0)])):i("",!0)])])])):i("",!0),le.value?(n(),o("div",{key:6,class:"modal-overlay",onClick:we},[s("div",{class:"modal-dialog",onClick:e[67]||(e[67]=me(()=>{},["stop"]))},[s("div",vl,[s("h2",null,d(b.value.isEditing?"Configure Skill":"Create New Skill"),1),s("button",{class:"modal-close",onClick:we},"√ó")]),s("div",pl,[s("div",gl,[e[218]||(e[218]=s("label",null,"Skill Name",-1)),u(s("input",{"onUpdate:modelValue":e[63]||(e[63]=a=>b.value.name=a),type:"text",class:"input-field",placeholder:"e.g., Check Order Status"},null,512),[[f,b.value.name]])]),s("div",fl,[e[219]||(e[219]=s("label",null,"Description",-1)),u(s("textarea",{"onUpdate:modelValue":e[64]||(e[64]=a=>b.value.description=a),rows:"2",class:"input-field",placeholder:"What does this skill do?"},null,512),[[f,b.value.description]])]),s("div",ml,[e[221]||(e[221]=s("label",null,"MCP Server",-1)),u(s("select",{"onUpdate:modelValue":e[65]||(e[65]=a=>b.value.mcpServer=a),class:"input-field"},[...e[220]||(e[220]=[j('<option value="" data-v-ad7f2608>No MCP connection</option><option value="postgres" data-v-ad7f2608>PostgreSQL Database</option><option value="shopify" data-v-ad7f2608>Shopify API</option><option value="stripe" data-v-ad7f2608>Stripe Payments</option><option value="sendgrid" data-v-ad7f2608>SendGrid Email</option><option value="twilio" data-v-ad7f2608>Twilio SMS</option>',6)])],512),[[te,b.value.mcpServer]]),e[222]||(e[222]=s("div",{class:"hint"},"Connect to an MCP server to extend this skill's capabilities",-1))]),b.value.mcpServer?(n(),o("div",hl,[e[223]||(e[223]=s("label",null,"Parameters",-1)),u(s("textarea",{"onUpdate:modelValue":e[66]||(e[66]=a=>b.value.parameters=a),rows:"3",class:"input-field",placeholder:'{"api_key": "...", "endpoint": "..."}'},null,512),[[f,b.value.parameters]]),e[224]||(e[224]=s("div",{class:"hint"},"JSON configuration for the MCP server connection",-1))])):i("",!0)]),s("div",yl,[s("button",{class:"btn-secondary",onClick:we},"Cancel"),s("button",{class:"btn-primary",onClick:Cs},d(b.value.isEditing?"Save Changes":"Create Skill"),1)])])])):i("",!0)])}}},Sl=Ge(bl,[["__scopeId","data-v-ad7f2608"]]);export{Sl as default};
